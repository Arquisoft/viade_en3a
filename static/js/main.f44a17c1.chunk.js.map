{"version":3,"sources":["i18n.js","components/registerForm/RegisterForm.js","pages/SignUp.js","components/editableMap/EditableMap.js","model/RoutePoint.js","components/podService/podHandler.js","components/podService/podStoreHandler.js","model/RouteMedia.js","model/MyRoute.js","model/Util.js","components/routeCreation/SearchBar.js","components/routeCreation/RouteCreationForm.js","components/myElevationChart/MyElevationChart.js","components/pointInfo/PointInfo.js","pages/RouteCreation.js","components/myMap/MyMap.js","components/routeList/RouteCard.js","model/RouteManager.js","pages/RouteList.js","pages/RouteHelp.js","pages/Home.js","components/friendCard/ProfileCard.js","pages/Profile.js","components/friendCard/FriendCard.js","model/MyGroup.js","pages/Groups.js","pages/createGroup.js","pages/InfoView.js","model/GroupManager.js","components/podService/podPermissionHandler.js","pages/ShareView.js","pages/RouteSharedList.js","components/navBar/navBar.js","components/carousel/WelcomeCarousel.js","components/navBar/navBarNotAuthenticated.js","App.js","index.js","assets/logo/logo_alt.jpeg","assets/githubLogo/github.png","assets/logo/logo_letters.jpeg","assets/mapIcons/iconNormal.svg","assets/mapIcons/iconEdited.svg","assets/howRoutesWork/main.png","assets/howRoutesWork/newRouteList.png","assets/howRoutesWork/Screenshot_1.png","assets/howRoutesWork/routeDetails.png","assets/howRoutesWork/Screenshot_4.png","assets/logo/logo_full.jpeg","assets/logo/logo_old.jpeg","assets/logo/logo.jpeg","assets/carouselImages/car_img1.jpeg","assets/carouselImages/car_img2.jpg","assets/mapIcons/iconSelected.svg"],"names":["i18n","use","LanguageDetector","initReactI18next","init","resources","en","translation","es","fallbackLng","interpolation","escapeValue","RegisterForm","props","t","useTranslation","Card","bg","style","color","width","display","Body","Title","Text","Button","variant","href","block","SignUp","className","TempPoint","lat","lng","index","name","description","this","edited","toFixed","EditableMap","addPoint","e","initial","state","points","pop","push","latlng","length","undefined","setState","slice","onChange","getPoints","updatePoint","event","id","target","options","marker_index","newPosition","getLatLng","setPositionScaled","map","current","leafletElement","fitBounds","boundingbox","showPoint","setIcon","selectedIcon","selected","pointInfo","setPoint","Object","assign","editablePosition","normalIcon","L","icon","iconUrl","require","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","editedIcon","returnList","forEach","tempPoint","oldPoint","pointInList","find","p","point","toRemove","position","indexOf","splice","Map","center","zoom","height","onClick","TileLayer","url","attribution","Polyline","positions","Marker","draggable","ondrag","getIcon","React","Component","RoutePoint","latitude","longitude","elevation","callback","params","fetch","then","response","status","json","data","parseInt","isNaN","catch","err","PodHandler","currentSession","repository","String","webId","split","defaultFolder","routesDirectory","resourcesDirectory","commentsDirectory","sharedDirectory","inboxDirectory","groupsDirectory","N3","auth","fc","PodStorageHandler","sharedRoutesToAdd","routeFileName","storeFile","callbackPerFile","file","error","getFolder","directory","i","files","getFile","createBasicFolders","value","groupFileName","resourceFileName","getExpectedPathForResource","forEachFile","a","sharedRoutesfile","parsedFileRoutes","JSON","parse","routes","j","fileContents","lastFile","forEachMail","folder","content","Parser","quad","prefixes","predicate","object","includes","addRoutesAsShared","join","_eliminateFile","bind","delete","deleteFolderRecursively","res","createFile","urls","filename","alreadyRoutes","toString","stringify","readFolder","readFile","createFolder","RouteMedia","route","fileData","podURL","podExpectedPath","isInPod","isInLocal","calculateExpectedPodUrl","getId","store","getUploadFileName","f","storeResource","processPoints","list","routePoint","elv","askForElevation","calculateRouteLength","distance","thisPoint","latLng","previousPoint","distanceTo","MyRoute","author","uuid","media","routeLength","getLatitude","getLongitude","newPoint","session","storageHandler","uploadMedia","storeRoute","getFileName","toJsonLd","uploadToPod","newPoints","newListOfPoints","found","each","elevationResult","pointsList","parsedRoute","rawWaypoints","jsonPoint","rawPoints","addSimplePoints","newMedia","pointsInJson","waypointsInJson","mediaInJson","toJson","toWaypointJson","getPodUrl","default","UserDetails","username","vcard_fn","Promise","resolve","reject","user","addressCard","vcard_locality","locality","vcard_region","region","emailCard","vcard_value","email","substring","phoneCard","phone","photo","vcard_hasPhoto","SearchBar","handleEnter","charCode","preventDefault","lookFor","search","createRef","text","toast","dismiss","info","results","firstFound","lon","boundingBox","display_name","success","Form","margin","Group","as","Row","Col","sm","Label","Control","onKeyPress","ref","RouteCreationForm","padding","placeholder","routeNameRef","role","routeDescriptionRef","rows","htmlFor","type","multiple","accept","MyElevationChart","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","getElevation","lineOptions","scales","xAxes","gridLines","yAxes","ticks","beginAtZero","legend","tooltips","enabled","PointInfo","remove","save","nameForm","desc","descriptionForm","updatePointNameDescription","disable","disabled","enable","FormControl","aria-hidden","colSpan","isEditing","Table","striped","bordered","hover","printPoint","RouteCreation","routeName","routeDescription","elevationChart","routeManager","tempRoute","newRoute","spinner","document","getElementById","hidden","toggleSpinner","valid","getUsername","getComparableString","addRoute","createRoute","checkRouteChanged","addMedia","filePodUrl","podResponse","window","location","POSITION","TOP_CENTER","autoClose","updatePoints","updatedPoints","chart","update","Spinner","animation","MyMap","getBounds","pad","movable","Popup","getPopup","Fragment","waypoint","dragging","scrollWheelZoom","touchZoom","zoomControl","doubleClickZoom","FeatureGroup","onAdd","getMarkers","RouteCard","mapComponent","borderRadius","showShareButton","showInfoButton","buttons","Header","minHeight","fontSize","resetRoutes","routesSharedToMe","getRouteById","getSharedRouteById","RouteList","RouteManager","cardDeckSize","sharedRoutes","spinnerHidden","sync","syncRoutesWithPod","processedRoutes","retrievedRoutes","routesForCardDecks","counter","CardDeck","r","message","getRoutes","routeJson","modifyFromJsonLd","tempList","$","empty","result","RouteHelp","orderOfElements","getIntroduction","getCreateAPod","getLogin","getCreateARoute","getViewARoute","getShareWithFiends","interior","getIndex","class","alt","src","viadeMainView","viadeSampleRoutes","viadeCreateRoute","viadeDetailsRoute","viadeShareRoute","Home","onLoad","printName","viadeLogo","getName","appendChild","createTextNode","ProfileCard","border","alignItems","profileImage","profileName","Subtitle","profileAddress","profileEmail","profileLink","Profile","loadInfo","loadName","loadAddress","loadEmail","loadSolidProfile","loadImage","address","getLocality","getRegion","getEmail","getSolidProfile","link","attr","getImage","img","FriendCard","friendImage","friendName","friendLink","MyGroup","users","storeGroup","groupsStyle","flexWrap","justifyContent","Groups","groupManager","groups","syncGroupsWithPod","processedGroups","retrievedGroups","resetGroups","getGroups","groupJson","tempGroup","addGroup","size","group","image","CreateGroup","friends","groupMembers","groupName","readFriends","newGroup","nameRef","friend","vcard$fn","n","inbox","imageLd","createGroup","componentMappingFunction","components","listItem","friendsCardDeck","generateCardDecks","Img","annotateFriend","InfoView","match","getAnyRouteById","fetchRouteIfNecessary","getAuthor","getDescription","getRouteLength","downloadToClient","marginTop","Tabs","Tab","eventKey","title","getCarousel","blob","Blob","URL","createObjectURL","createElement","download","click","jsonRoute","pics","m","Carousel","Item","key","Image","fluid","logo1","logo2","SolidAclUtils","AclApi","PodPermissionHandler","podStoreHandler","PodStoreHandler","webIds","permissions","Permissions","READ","_processRouteFileForUnshare","unshareFile","_processRouteFileForShare","shareFile","agents","utils","autoSave","loadFromFileUrl","acl","addRule","deleteRule","mediaURIs","ShareView","send","groupsCardDeck","sendToGroup","destination","date","Date","now","getTime","sender","recipient","getWebIdWithoutProfile","getSessionName","buildMessage","changePermissions","perm","shareRouteAndResources","mess","schema$text","add","rdfs$label","schema$dateSent","toISOString","rdf$type","namedNode","schema$sender","RouteSharedList","readInbox","checkInbox","float","confirm","cleanSharedFolder","_eliminateSharedFolder","getRoutesSharedToMe","lastProcessedFile","addSharedRoute","GroupManager","MyNavBar","changeLanguage","basename","Navbar","collapseOnSelect","expand","sticky","Brand","viadeText","Toggle","aria-controls","Collapse","Nav","NavDropdown","Divider","DropdownButton","Dropdown","AuthButton","popup","login","logout","Link","gitHubLogo","exact","path","component","render","to","containerStyle","imageStyle","WelcomeCarousel","image1","Caption","image2","NavBarNotAuthenticated","App","el","setProperty","LoggedOut","LoggedIn","ReactDOM","module","exports"],"mappings":"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","file":"static/js/main.f44a17c1.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nconst resources = {\n  en: {\n    translation: {\n      \"carouselWelcome\": \"Welcome to Viade\",\n      \"carouselText1\": \"Your routes app\",\n      \"carouselText2\": \"Store your routes, create new ones\",\n      \"carouselText3\": \"High versatility\",\n      \"navBarLanguageEn\": \"English\",\n      \"navBarLanguageEs\": \"Spanish\",\n      \"navBarLanguage\": \"Language\",\n      \"navBarSignUp\": \"Sign up\",\n      \"navBarSignIn\": \"Sign in\",\n      \"navBarSignOut\": \"Sign out\",\n      \"navBarProfile\": \"Profile\",\n      \"navBarMyProfile\": \"My profile\",\n      \"navBarFriends\": \"Friends\",\n      \"navBarGroups\": \"My groups\",\n      \"navBarSettings\": \"Settings\",\n      \"navBarRoutes\": \"Route management\",\n      \"navBarMyRoutes\": \"My routes\",\n      \"navBarCreateRoute\": \"Create a new route\",\n      \"navBarSharedRoutes\": \"Shared to Me\",\n      \"navBarRouteHelp\": \"How do routes work?\",\n      \"routeListText\": \"Route List\",\n      \"friendCardProfile\": \"Profile\",\n      \"pageNotFoundHeader\": \"Oops! The page you are trying to access does not exist.\",\n      \"pageNotFoundText1\": \"You can return to homepage \",\n      \"pageNotFoundText2\": \"here.\",\n      \"registerFormTitle\": \"Get your own SOLID pod\",\n      \"registerFormText\": \"Get your SOLID pod from one of these identity providers\",\n      \"editProfileTitle\": \"Edit profile info\",\n      \"editProfileChangeName\": \"Change name\",\n      \"editProfileNewName\": \"New name\",\n      \"editProfileMinChar\": \"Min of 8 characters\",\n      \"editProfileChangePass\": \"Change password\",\n      \"editProfileNewPass\": \"New password\",\n      \"editProfileSave\": \"Save\",\n      \"homeWelcome\": \"Hi \",\n      \"homeWelcome2\": \"welcome to\",\n      \"profileTitle\": \"Your Profile\",\n      \"profileUsername\": \"Username:\",\n      \"profileAddress\": \"Address:\",\n      \"profileEmail\": \"Email:\",\n      \"profilePhone\": \"Phone:\",\n      \"profileEditButton\": \"Edit profile\",\n      \"profileLastRoutes\": \"Last routes done\",\n      \"infoViewTitle\": \"Route Info\",\n      \"infoViewExportJSON\": \"Export route in json format\",\n      \"infoViewTh1\": \"Info\",\n      \"infoViewTh2\": \"Data\",\n      \"infoViewTd1\": \"Name:\",\n      \"infoViewTd2\": \"Author:\",\n      \"infoViewTd3\": \"Description:\",\n      \"infoViewTd4\": \"Distance:\",\n      \"infoViewComments\": \"Comment section\",\n      \"infoViewWriteComments\": \"Write your comment here\",\n      \"infoViewSubmit\": \"Submit\",\n      \"infoViewMap\": \"Map view\",\n      \"infoViewElevation\": \"Elevation chart\",\n      \"infoViewImg\": \"Image gallery\",\n      \"mapCreationTitle\": \"Create your own Route\",\n      \"mapCreationName\": \"Route Name\",\n      \"mapCreationNamePlaceholder\": \"Type in new route name\",\n      \"mapCreationRouteDescription\": \"Route Description\",\n      \"mapCreationRouteDescriptionPlaceholder\": \"(Optional) Type a description of the route\",\n      \"mapCreationSaveButton\": \"Save route in pod\",\n      \"mapCreationSearchBarFound\": \"Found! \",\n      \"mapCreationSearchBarError\": \"We are sorry! We didn't find that place. Please, try with a different one\",\n      \"friendsTitle\": \"Friends\",\n      \"friendsAdd\": \"Add a friend\",\n      \"friendsList\": \"List of friends\",\n      \"groupsTitle\": \"Groups of friends\",\n      \"groupsCreate\": \"Create group\",\n      \"groupsAdd\": \"Add\",\n      \"groupsAdded\": \"Added\",\n      \"groupsCreateBtn\": \"Create\",\n      \"routeListLoadingMessage\": \"We're downloading your routes. Next time will be faster.\",\n      \"routeHelpIndex\": \"Index\",\n      \"routeHelpIntro\": \"Introduction\",\n      \"routeHelpIntro_1\": \"Viade is an Application whose task is to manage routes.\",\n      \"routeHelpIntro_2\": \"It allows you to store your favourite scenic routes on your Solid Pod and to share it with your friends and family as well as comment on those of your friends'.\",\n      \"routeHelpCreatePOD\": \"Create a POD\",\n      \"routeHelpCreatePOD_1\": \"If you are not an owner of a POD you can create one by pressing the register button. This will redirect you to a provider, where you can create your POD.\",\n      \"routeHelpLogin\": \"Login\",\n      \"routeHelpLogin_1\": \"Once the POD is created, press the login button and a popup will ask you for credentials. Once logged in you will have access to new options.\",\n      \"routeHelpCreateRoutes\": \"Create a Route\",\n      \"routeHelpCreateRoutes_1\": \"From \\\"Route Management > Create a new Route\\\" you can create a new route. Just set a title, description, select the waypoints of the route and press \\\"Save route in POD\\\".\",\n      \"routeHelpViewRoutes\": \"View your Routes\",\n      \"routeHelpViewRoutes_1\": \"We can now navigate to \\\"Route Management > My Routes\\\", where the routes you have created are listed. When clicking on \\\"Info\\\" of the new route a new window will display all the information recorded, as well as comments posted and a elevation chart of the waypoints.\",\n      \"routeHelpShareRoutes\": \"Share with Friends\",\n      \"routeHelpShareRoutes_1\": \"When displaying all routes \\\"Route Management > My Routes\\\", you can click on the share option. This will list all friends and when clicking share, a message with the route will be sent to the inbox of your friend.\",\n      \"alertName\": \"Name can't be empty\",\n      \"alertPoints\": \"Routes must have at least two points\",\n      \"alertAccessPOD\": \"We can't access your POD. Please, review its permissions\",\n      \"alertMembers\": \"A group must have at least one member\",\n      \"alertAlreadyIncluded\": \" already included\",\n      \"alertAddedSuccessfully\": \" added successfully\",\n      \"alertErrorInPermissions\": \"Unable to share your route. Your friend does not allow sharing\",\n      \"alertSuccessInPermissions\": \"Your route was successfully shared!\",\n      \"alertNoInputOnSearch\": \"Oopss... At least try to search for some place :D\",\n      \"searching\": \"Searching...\",\n      \"alertUnableToRetrieveRoute\": \"There was an error trying to show the information for this route\",\n      \"alertUnavailableRoutes\": \"One of your friends erased a route shared to you. Go to Shared routes and remove them to discard this message\",\n      \"alertRoutesRemoved\": \"Routes Eliminated!\",\n      \"messageNoGroups\": \"You have no groups created yet!\",\n      \"messageNoGroupsCreateOne\": \"Click on the button and create one!\",\n      \"sharedRouteListTitle\": \"Shared route list\",\n      \"routeListOoopsTitle\": \"Oops! We didn't find any route in your POD\",\n      \"routeListOoopsParagraph\": \"You can move to \\\"Route management >> Create a new route\\\" to add a new route!\",\n      \"sharedRouteListOoopsTitle\": \"Oops! It seems that you haven't been shared any route yet. Sad...\",\n      \"sharedRouteListOoopsParagraph\": \"You can ask some friend to share one to you\",\n      \"infoViewCommentsNotYetImplemented\": \"This functionality is not currently being supported. We are sorry for the inconvenieces.\",\n      \"routeCreationElevationPreviewTitle\": \"Route elevation preview\",\n      \"info\": \"Info\",\n      \"share\": \"Share\",\n      \"routeName\": \"Route Name:\",\n      \"routeNamePlaceholder\": \"Type in route name\",\n      \"routeDescription\" : \"Route Description:\",\n      \"routeDescriptionPlaceholder\": \"Write here an optional description of the route\",\n      \"fileUpload\": \"File Upload: \",\n      \"fileUploadLabel\": \"You can upload more than one file\",\n      \"searchBarLabel\": \"Search for a place:\",\n      \"latitude\": \"Latitude\",\n      \"longitude\": \"Longitude\",\n      \"name\":\"Name\",\n      \"description\":\"Description\",\n      \"actions\":\"Actions\",\n      \"editMessage\": \"Click over a point to edit it\",\n      \"grupos\": \"Groups\",\n      \"invalidRoute\": \"Route with invalid format ignored\",\n    }\n  },\n  es: {\n    translation: {\n      \"carouselWelcome\": \"Bienvenido a Viade\",\n      \"carouselText1\": \"Tu aplicación de rutas\",\n      \"carouselText2\": \"Guarda tus rutas, crea nuevas\",\n      \"carouselText3\": \"Alta versatilidad\",\n      \"navBarLanguageEn\": \"Inglés\",\n      \"navBarLanguageEs\": \"Español\",\n      \"navBarLanguage\": \"Idioma\",\n      \"navBarSignUp\": \"Registrarse\",\n      \"navBarSignIn\": \"Identificarse\",\n      \"navBarSignOut\": \"Cerrar sesión\",\n      \"navBarProfile\": \"Perfil\",\n      \"navBarMyProfile\": \"Mi perfil\",\n      \"navBarGroups\": \"Mis grupos\",\n      \"navBarFriends\": \"Amigos\",\n      \"navBarSettings\": \"Ajustes\",\n      \"navBarRoutes\": \"Gestión de rutas\",\n      \"navBarMyRoutes\": \"Mis rutas\",\n      \"navBarCreateRoute\": \"Crear una nueva ruta\",\n      \"navBarSharedRoutes\": \"Compartidas conmigo\",\n      \"navBarRouteHelp\": \"¿Cómo funcionan las rutas?\",\n      \"routeListText\": \"Lista de rutas\",\n      \"friendCardProfile\": \"Perfil\",\n      \"pageNotFoundHeader\": \"¡Vaya! La página a la que estás intentando acceder no existe.\",\n      \"pageNotFoundText1\": \"Puedes volver a la página principal \",\n      \"pageNotFoundText2\": \"aquí.\",\n      \"registerFormTitle\": \"Obtén tu pod SOLID\",\n      \"registerFormText\": \"Obtén tu identidad solid de uno de los siguientes proveedores\",\n      \"editProfileTitle\": \"Editar información de perfil\",\n      \"editProfileChangeName\": \"Cambiar nombre\",\n      \"editProfileNewName\": \"Nuevo nombre\",\n      \"editProfileMinChar\": \"Mínimo de 8 caracteres\",\n      \"editProfileChangePass\": \"Cambiar contraseña\",\n      \"editProfileNewPass\": \"Nueva contraseña\",\n      \"editProfileSave\": \"Guardar\",\n      \"homeWelcome\": \"Hola \",\n      \"homeWelcome2\": \"bienvenido a\",\n      \"profileTitle\": \"Tu Perfil\",\n      \"profileUsername\": \"Usuario:\",\n      \"profileAddress\": \"Dirección:\",\n      \"profileEmail\": \"Correo:\",\n      \"profilePhone\": \"Teléfono:\",\n      \"profileEditButton\": \"Editar perfil\",\n      \"profileLastRoutes\": \"Últimas rutas realizadas\",\n      \"infoViewTitle\": \"Información de la ruta\",\n      \"infoViewExportJSON\": \"Exportar ruta en formato json\",\n      \"infoViewTh1\": \"Info\",\n      \"infoViewTh2\": \"Datos\",\n      \"infoViewTd1\": \"Nombre:\",\n      \"infoViewTd2\": \"Autor:\",\n      \"infoViewTd3\": \"Descripción:\",\n      \"infoViewTd4\": \"Distancia:\",\n      \"infoViewComments\": \"Comentarios\",\n      \"infoViewWriteComments\": \"Escribe tu comentario aquí\",\n      \"infoViewSubmit\": \"Publicar\",\n      \"infoViewMap\": \"Vista del mapa\",\n      \"infoViewElevation\": \"Perfil de elevación\",\n      \"infoViewImg\": \"Galería de imágenes\",\n      \"mapCreationTitle\": \"Crea tu propia ruta\",\n      \"mapCreationName\": \"Nombre de ruta\",\n      \"mapCreationNamePlaceholder\": \"Escribe el nombre de tu nueva ruta\",\n      \"mapCreationRouteDescription\": \"Descripción\",\n      \"mapCreationRouteDescriptionPlaceholder\": \"(Opcional) Escribe una descripción sobre la ruta\",\n      \"mapCreationSaveButton\": \"Guardar ruta en pod\",\n      \"mapCreationSearchBarFound\": \"¡Listo! \",\n      \"mapCreationSearchBarError\": \"¡Lo sentimos! No hemos podido encontrar ese lugar. Por favor, inténtalo de nuevo con otro lugar\",\n      \"friendsTitle\": \"Amigos\",\n      \"friendsAdd\": \"Añadir un amigo\",\n      \"friendsList\": \"Lista de amigos\",\n      \"groupsTitle\": \"Grupos de amigos\",\n      \"groupsCreate\": \"Crear grupo\",\n      \"groupsAdd\": \"Añadir\",\n      \"groupsAdded\": \"Añadido\",\n      \"groupsCreateBtn\": \"Crear\",\n      \"routeListLoadingMessage\": \"Estamos descargando sus rutas. La próxima vez tardará menos.\",\n      \"routeHelpIndex\": \"Índice\",\n      \"routeHelpIntro\": \"Introducción\",\n      \"routeHelpIntro_1\": \"Viade es una aplicación de Administración de Rutas.\",\n      \"routeHelpIntro_2\": \"Te permite almacenar tus rutas de montaña favoritas en tu POD de Solid y compartirlas con tus amigos y familia a la par que comentar sobre ellas.\",\n      \"routeHelpCreatePOD\": \"Crear un POD\",\n      \"routeHelpCreatePOD_1\": \"Si todavía no tienes un POD, puedes hacerte a uno pulsando el botón de registrar. Esto te redirigirá a un proveedor, donde podrás crear tu POD.\",\n      \"routeHelpLogin\": \"Iniciar Sesión\",\n      \"routeHelpLogin_1\": \"Una vez tengas un POD, pulsa el botón 'Identificarse' y una ventana te pedirá credenciales. Una vez tengas la sesión uniciada dispondrás de más opciones.\",\n      \"routeHelpCreateRoutes\": \"Crear una Ruta\",\n      \"routeHelpCreateRoutes_1\": \"Desde \\\"Gestión de Rutas > Crear una Nueva Ruta\\\" puedes crear rutas nuevas. Escoge un título, descripción, los puntos por donde pasa y pulsa \\\"Guardar ruta en POD\\\".\",\n      \"routeHelpViewRoutes\": \"Ver tus Rutas\",\n      \"routeHelpViewRoutes_1\": \"Puedes navegar a \\\"Gestión de Rutas > Mis rutas\\\", donde se mostrará un listado de las rutas que hayas creado. Cuando se seleccione \\\"Info\\\" de la nueva ruta una ventana mostrará toda la información guardada, así como comentarios de la ruta o un gráfica de elevación de los puntos por donde pasa.\",\n      \"routeHelpShareRoutes\": \"Compartir con los Amigos\",\n      \"routeHelpShareRoutes_1\": \"Cuando se muestran todas tus rutas \\\"Gestión de Rutas > Mis rutas\\\", puedes pulsar en la opción de compartir. Esto listará a todos tus amigos y al pulsar sobre uno de ellos se les enviará un mensaje a \\\"Inbox\\\".\",\n      \"alertName\": \"El nombre no puede estar vacío\",\n      \"alertPoints\": \"La ruta debe contener al menos dos puntos\",\n      \"alertAccessPOD\": \"No podemos acceder a su POD. Por favor, compruebe sus permisos\",\n      \"alertMembers\": \"El grupo debe tener al menos un miembro\",\n      \"alertAlreadyIncluded\": \" ya está incluido\",\n      \"alertAddedSuccessfully\": \" añadido correctamente\",\n      \"alertErrorInPermissions\": \"Imposible compartir la ruta. Tu amigo no permite esta acción\",\n      \"alertSuccessInPermissions\": \"Tu ruta ha sido compartida con éxito\",\n      \"alertNoInputOnSearch\": \"Oopss... Debes indicar un sitio para poder buscarlo :D\",\n      \"searching\": \"Buscando...\",\n      \"alertUnableToRetrieveRoute\": \"Hubo un error tratando de mostrar la información sobre la ruta\",\n      \"alertUnavailableRoutes\": \"Uno de tus amigos elimino una o varias rutas que te había compartido. Ve a la sección de rutas compartidas y eliminalas para descartar este mensaje\",\n      \"alertRoutesRemoved\": \"¡Rutas eliminadas!\",\n      \"messageNoGroups\": \"¡Todavía no has creado ningun grupo!\",\n      \"messageNoGroupsCreateOne\": \"Pulsa en el botón y crea uno\",\n      \"sharedRouteListTitle\": \"Lista de routas compartidas\",\n      \"routeListOoopsTitle\": \"¡Vaya! No hemos podido encontrar ninguna ruta en tu POD\",\n      \"routeListOoopsParagraph\": \"¡Puedes usar la vista de creación de rutas \\\"Gestión de rutas >> Crear una nueva ruta\\\" para añadir una nueva!\",\n      \"sharedRouteListOoopsTitle\": \"¡Vaya! Parece que no se te ha compartido ninguna ruta todavía. Triste, socio...\",\n      \"sharedRouteListOoopsParagraph\": \"Puedes pedirle algún amigo o amiga que te comparta una para verla aquí\",\n      \"infoViewCommentsNotYetImplemented\": \"Esta funcionalidad todavía no está soportada. Nos disculpamos por los inconvenientes que esto pueda causar.\",\n      \"routeCreationElevationPreviewTitle\": \"Vista previa del perfil altimétrico\",\n      \"info\": \"Info\",\n      \"share\": \"Compartir\",\n      \"routeName\": \"Nombre de la ruta:\",\n      \"routeNamePlaceholder\": \"Introduce el nombre de la ruta\",\n      \"routeDescription\" : \"Descripción de la ruta:\",\n      \"routeDescriptionPlaceholder\": \"Escribe una descripción opcional de la ruta\",\n      \"fileUpload\": \"Subida de Archivos: \",\n      \"fileUploadLabel\": \"Puedes subir más de un archivo\",\n      \"searchBarLabel\": \"Buscar:\",\n      \"latitude\": \"Latitud\",\n      \"longitude\": \"Longitud\",\n      \"name\":\"Nombre\",\n      \"description\":\"Descripción\",\n      \"actions\":\"Acciones\",\n      \"editMessage\": \"Pincha sobre un punto para editarlo\",\n      \"grupos\": \"Grupos\",\n      \"invalidRoute\": \"Ruta con formato inválido ignorada\",\n    }\n  }\n};\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources,\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\nexport default i18n;","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport { useTranslation } from 'react-i18next';\n\nfunction RegisterForm(props) {\n    const { t } = useTranslation();\n    return (\n        <Card bg=\"light\" style={{ color: \"black\", width: '18rem', display: \"inline-block\" }}>\n            <Card.Body>\n                <Card.Title>{t('registerFormTitle')}</Card.Title>\n                <Card.Text>{t('registerFormText')}</Card.Text>\n                <Button variant=\"primary\" href=\"https://inrupt.net/register\" block>Inrupt</Button>\n                <Button variant=\"primary\" href=\"https://solid.community/register\" block>React Community</Button>\n            </Card.Body>\n        </Card>\n    );\n}\n\nexport default RegisterForm;","import React from 'react';\nimport RegisterForm from './../components/registerForm/RegisterForm';\n\nfunction SignUp(props) {\n    return (\n        <div className=\"App-header\">\n            <RegisterForm />\n        </div>\n    );\n}\nexport default SignUp;","import React from 'react';\nimport { Map, TileLayer, Marker, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\n\nclass TempPoint {\n\n\tconstructor(lat, lng, index, name, description) {\n\t\tthis.lat = lat;\n\t\tthis.lng = lng;\n\t\tthis.index = index;\n\t\tthis.name = name;\n\t\tthis.description = description;\n\t\tthis.edited = false;\n\t}\n\n\tprintLat() {\n\t\treturn this.lat.toFixed(2);\n\t}\n\n\tprintLng() {\n\t\treturn this.lng.toFixed(2);\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\t}\n\n\tsetDescription(description) {\n\t\tthis.description = description;\n\t}\n\n\ttoString() {\n\t\treturn this.lat + \" \" + this.lng + \" \" + this.index + \" \" + this.name;\n\t}\n}\n\nclass EditableMap extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpoints: [new TempPoint(0,0,0,undefined)],\n\t\t\teditablePosition: [43.354834, -5.851405],\n\t\t\tboundingbox: [43.254834, -5.751405, 43.454834, -5.951405]\n\t\t};\n\t\tthis.initial = true;\n\t\tthis.onChange = props.onChange;\n\t\tthis.pointInfo = props.pointInfo;\n\t\tthis.selected = undefined;\n\t\tthis.normalIcon = L.icon({\n\t\t\ticonUrl: require(\"../../assets/mapIcons/iconNormal.svg\"),\n\t\t\ticonSize: [64,64],\n\t\t\ticonAnchor: [32, 54],\n\t\t\tpopupAnchor: null,\n\t\t\tshadowUrl: null,\n\t\t\tshadowSize: null,\n\t\t\tshadowAnchor: null\n\t\t});\n\t\tthis.selectedIcon = L.icon({\n\t\t\ticonUrl: require(\"../../assets/mapIcons/iconSelected.svg\"),\n\t\t\ticonSize: [64,64],\n\t\t\ticonAnchor: [32, 54],\n\t\t\tpopupAnchor: [64,64],\n\t\t\tshadowUrl: null,\n\t\t\tshadowSize: null,\n\t\t\tshadowAnchor: null\n\t\t});\n\t\tthis.editedIcon = L.icon({\n\t\t\ticonUrl: require(\"../../assets/mapIcons/iconEdited.svg\"),\n\t\t\ticonSize: [64,64],\n\t\t\ticonAnchor: [32, 54],\n\t\t\tpopupAnchor: [64,64],\n\t\t\tshadowUrl: null,\n\t\t\tshadowSize: null,\n\t\t\tshadowAnchor: null\n\t\t});\n\t}\n\n\taddPoint = (e) => {\n\t\tif (this.initial) {\n\t\t\tthis.state.points.pop();\n\t\t\tthis.initial = false;\n\t\t}\n\t\tthis.state.points.push(new TempPoint(e.latlng.lat,e.latlng.lng,this.state.points.length,undefined,undefined));\n\t\tthis.setState({ points: this.state.points.slice() });\n\t\tthis.onChange(this.getPoints());\n\t};\n\n\tgetPoints() {\n\t\tvar returnList = [];\n\t\tthis.state.points.forEach((tempPoint) => returnList.push({ lat: tempPoint.lat, lng: tempPoint.lng}));\n\t\treturn returnList;\n\t}\n\n\tupdatePointNameDescription(oldPoint,name,description){\n\t\tlet pointInList = this.state.points.find((p) => p.index===oldPoint.index);\n\t\tpointInList.name=name;\n\t\tpointInList.description=description;\n\t\tpointInList.edited=true;\n\t}\n\n\tupdatePoint = (event) => {\n\t\tvar id = event.target.options.marker_index;\n\t\tvar newPosition = event.target.getLatLng();\n\t\tconst { points } = this.state;\n\n\t\tpoints[id].lat = newPosition.lat;\n\t\tpoints[id].lng = newPosition.lng;\n\n\t\tthis.setState({ points: points.slice() });\n\t\tthis.onChange(this.getPoints());\n\t};\n\n\tremove (point) {\n\t\tconst { points } = this.state;\n\t\tlet toRemove = points.find( (p) => p.index===point.index);\n\t\tlet position = points.indexOf(toRemove);\n\t\tpoints.splice(position, 1);\n\t\tthis.setState({ points: points.slice() });\n\t\tthis.onChange(this.getPoints());\n\n\t\tthis.pointInfo.current.setPoint(undefined);\n\t\tthis.selected=undefined;\n\t}\n\n\tsetPositionScaled = (e) => {\n\t\tthis.map.current.leafletElement.fitBounds(this.state.boundingbox);\n\t}\n\n\tshowPoint = (e) => {\n\t\tconst id = e.target.options.marker_index;\n\t\te.target.setIcon(this.selectedIcon);\n\t\tthis.selected = id;\n\t\tthis.pointInfo.current.setPoint(Object.assign({},this.state.points[id]));\n\t\tthis.setState({ points: this.state.points.slice() });\n\t}\n\n\tgetIcon(index){\n\n\t\tif(this.selected===index){\n\t\t\treturn this.selectedIcon;\n\t\t}\n\t\telse{\n\t\t\tif(this.state.points[index].edited){\n\t\t\t\treturn this.editedIcon;\n\t\t\t} else {\n\t\t\t\treturn this.normalIcon;\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\n\t\treturn (\n\n\t\t\t<Map\n\t\t\t\tcenter={this.state.editablePosition}\n\t\t\t\tzoom={12}\n\t\t\t\tstyle={{ width: \"50vw\", height: \"50vh\" }}\n\t\t\t\tonClick={this.addPoint}\n\t\t\t>\n\t\t\t\t<TileLayer\n\t\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\t/>\n\n\t\t\t\t<Polyline positions={this.state.points} color='red' />\n\n\t\t\t\t{this.state.points.map((position, index) =>\n\t\t\t\t\t<Marker\n\t\t\t\t\t\tmarker_index={index}\n\t\t\t\t\t\tposition={{lat: position.lat, lng:position.lng}}\n\t\t\t\t\t\tdraggable={true}\n\t\t\t\t\t\tondrag={this.updatePoint}\n\t\t\t\t\t\tonClick={this.showPoint}\n\t\t\t\t\t\ticon={this.getIcon(index)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Map>\n\n\t\t);\n\t}\n}\nexport default EditableMap;\n\n\n","class RoutePoint {\n\n    /**\n     * Creates a new route waypoint given a latitude and a longitude. \n     * The elevation of such two-tuple will be obtained from an online service.\n     * <https://api.airmap.com>\n     * @param {Number} latitude The latitude of the point this object represents.\n     * @param {Number} longitude The longitude of the point this object represents.\n     * @param {Number} elevation The elevation of the terrain at this coordinate pair.\n     * @param {String} Name of the waypoint.\n     * @param {String} Description of this waypoint.\n     */\n    constructor(latitude, longitude, elevation = -1, name = \"\", description = \"\") {\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.elevation = elevation;\n        this.name = name;\n        this.description = description;\n    }\n\n    getElevation() {\n        return this.elevation;\n    }\n\n    getLatitude() {\n        return this.latitude;\n    }\n\n    getLongitude() {\n        return this.longitude;\n    }\n\n    setElevation(elevation) {\n        this.elevation = elevation;\n    }\n\n    async askForElevation(callback = (params) => { }) {\n        if (this.elevation === -1) {\n            fetch(\"https://api.airmap.com/elevation/v1/ele/?points=\" + this.latitude + \",\" + this.longitude)\n                .then((response) => {\n                    if (response.status === 200) {\n                        response.json().then((data) => {\n                            this.elevation = parseInt(data[\"data\"], 10);\n                            if (isNaN(this.elevation)) {\n                                this.elevation = -1;\n                                callback(null);\n                            } else {\n                                callback(this.elevation);\n                            }\n                        });\n                    }\n                }).catch((err) => {\n                    this.elevation = -1;\n                    callback(null);\n                });\n        }\n    }\n\n    toJson() {\n        return {\n            \"latitude\": this.latitude,\n            \"longitude\": this.longitude,\n            \"elevation\": this.elevation\n        };\n    }\n\n    toWaypointJson() {\n        return {\n            \"name\": this.name,\n            \"description\": this.description,\n            \"latitude\": this.latitude,\n            \"longitude\": this.longitude,\n            \"elevation\": this.elevation\n        };\n    }\n\n\n}\n\nexport default RoutePoint;","export default class PodHandler {\n    /**\n     * @param {String|Session} currentSession - auth.currentSession() or a String with the root of the POD Storage as\n *                                              https://example.solid.community, note the lack of '/' at the end\n     */\n    constructor(currentSession) {\n        if (currentSession instanceof String) {\n            this.repository = currentSession;\n        }\n        else {\n            this.repository = \"https://\" + (currentSession).webId.split('/')[2];\n        }\n        this.defaultFolder = \"/viade/\";\n\n        this.routesDirectory = \"routes/\";\n        this.resourcesDirectory = \"resources/\";\n        this.commentsDirectory = \"comments/\";\n        this.sharedDirectory = \"shared/\";\n        this.inboxDirectory = \"inbox/\";\n        this.groupsDirectory = \"groups/\";\n    }\n}","import PodHandler from \"./podHandler\";\n\nconst N3 = require('n3');\nconst auth = require('solid-auth-client');\nconst FC = require('solid-file-client');\nconst fc = new FC(auth);\n\nexport default class PodStorageHandler extends PodHandler {\n\n    /**\n     * @param {Session} currentSession - auth.currentSession()\n     */\n    constructor(currentSession) {\n        super(currentSession);\n        this.sharedRoutesToAdd = [];\n    }\n\n    /**\n     * Stores a route under the /viade/routes/'routeFileName' URL\n     *\n     * @param {String} routeFileName - File name with extension, for example: myRoute.txt or LasXanas.json\n     * @param {Blob|String} data - The contents of the route\n     * @param {Function} callback - Calls the function with two parameters,\n     *                            + the first is the URL where the route is stored or null\n     *                            + the second is the actual response or error of the POD\n     */\n    async storeRoute(routeFileName, data, callback = () => { }) {\n        let url = this.repository + this.defaultFolder + this.routesDirectory + routeFileName;\n        this.storeFile(url, data, callback);\n    }\n\n    /**\n     * Retrieves every single file from the POD routes directory if present. Then executes the callback function\n     * passed as a parameter for each file retrieved. This operation will automatically generate the default \n     * storage folders if not present.\n     *\n     * @param {Function} callbackPerFile - A callback function to execute when each single file is retrieved.\n     * It receives two parameters,the first is the file that just got retrieved or null if there was an error. \n     * The second receives null if everything went fine or the error found as an object.\n     */\n    async getRoutes(callbackPerFile = (file, error) => { }) {\n        return this.getFolder(this.repository + this.defaultFolder + this.routesDirectory).then(\n            (directory) => {\n                for (let i = 0; i < directory.files.length; i++) {\n                    this.getFile(directory.files[i].url).then(\n                        (file) => { callbackPerFile(file, null); },\n                        (error) => { callbackPerFile(null, error); }\n                    );\n                }\n                return directory.files.length;\n            },\n            (error) => {\n                this.createBasicFolders();\n                return 0;\n            }\n        ).then(\n            (value) => { return value; }\n        );\n    }\n\n    /**\n     * Stores a route under the /viade/routes/'routeFileName' URL\n     *\n     * @param {String} routeFileName - File name with extension, for example: myRoute.txt or LasXanas.json\n     * @param {Blob|String} data - The contents of the route\n     * @param {Function} callback - Calls the function with two parameters,\n     *                            + the first is the URL where the route is stored or null\n     *                            + the second is the actual response or error of the POD\n     */\n    async storeGroup(groupFileName, data, callback = () => { }) {\n        let url = this.repository + this.defaultFolder + this.groupsDirectory + groupFileName;\n        this.storeFile(url, data, callback);\n    }\n\n    /**\n     * Retrieves every single file from the POD groups directory if present. Then executes the callback function\n     * passed as a parameter for each file retrieved. This operation will automatically generate the default \n     * storage folders if not present.\n     *\n     * @param {Function} callbackPerFile - A callback function to execute when each single file is retrieved.\n     * It receives two parameters,the first is the file that just got retrieved or null if there was an error. \n     * The second receives null if everything went fine or the error found as an object.\n     */\n    async getGroups(callbackPerFile = (file, error) => { }) {\n        return this.getFolder(this.repository + this.defaultFolder + this.groupsDirectory).then(\n            (directory) => {\n                for (let i = 0; i < directory.files.length; i++) {\n                    this.getFile(directory.files[i].url).then(\n                        (file) => { callbackPerFile(file, null); },\n                        (error) => { callbackPerFile(null, error); }\n                    );\n                }\n                return directory.files.length;\n            },\n            (error) => {\n                this.createBasicFolders();\n                return 0;\n            }\n        ).then(\n            (value) => { return value; }\n        );\n    }\n\n    /**\n     * Stores a resource under the /viade/resources/'resourceFileName' URL\n     *\n     * @param {String} resourceFileName - File name with extension, for example: samplePic.png or LasXanas.jpeg\n     * @param {Blob|String} data - The contents of the resource\n     * @param {Function} callback - Calls the function with two parameters,\n     *                            + the first is the URL where the resource is stored or null if it wasnt stored\n     *                            + the second is the actual response or error of the POD\n     */\n    storeResource(resourceFileName, data, callback = () => { }) {\n        let url = this.getExpectedPathForResource(resourceFileName);\n        this.storeFile(url, data, callback);\n    }\n\n    getExpectedPathForResource(resourceFileName) {\n        return this.repository + this.defaultFolder + this.resourcesDirectory + resourceFileName;\n    }\n\n    /**\n     * Gets an Array<Blob> with all the files stored in the resources directory\n     * Will automatically generate the default storage folders if not present\n     *\n     * @param {Function} callback - 2 Parameter function,\n     *                             + the first is {Array<Blob>} or null if there was an error. Array with all the resources\n     *                             + the second null or the error found.\n     */\n    async getResources(callback) {\n        // Not yet implemented\n        callback(null, null);\n    }\n\n\n    async getRoutesSharedToMe(forEachFile = (file, error) => { }) {\n        this.getFolder(this.repository + this.defaultFolder + this.sharedDirectory).then(\n            async (directory) => {\n                for (let i = 0; i < directory.files.length; i++) {\n                    await this.getFile(directory.files[i].url).then(\n                        async (sharedRoutesfile) => {\n                            try {\n                                let parsedFileRoutes = JSON.parse(sharedRoutesfile).routes;\n                                for (let j = 0; j < parsedFileRoutes.length; j++) {\n                                    await this.getFile(parsedFileRoutes[j][\"@id\"]).then(\n                                        (fileContents) => {\n                                            let lastFile =\n                                                (i === directory.files.length - 1) &&\n                                                (j === parsedFileRoutes.length - 1);\n                                            forEachFile(fileContents, null, lastFile);\n                                        },\n                                        (error) => { forEachFile(); }\n                                    );\n                                }\n                            } catch (error) {\n                                // Continue with execution and ignore the route\n                            }\n                        },\n                        (error) => { forEachFile(null, error); }\n                    );\n                }\n                return directory.files.length === 0;\n            },\n            (error) => {\n                this.createBasicFolders();\n                return false;\n            }\n        );\n    }\n\n    /**\n     * Checks for routes in the inbox, adding them onto a shared route file at /viade/shared/\n     * forEachMail is called for each new route\n     */\n    async checkInbox(forEachMail = () => { }) {\n        await this.getFolder(this.repository + \"/inbox/\").then(\n            async function (folder) {\n                await folder.files.map((file) => { return file.url; }).forEach(async function (url) { // For each message\n                    await this.getFile(url).then(function (content) {\n                        const parser = new N3.Parser();\n                        parser.parse(content, function (error, quad, prefixes) { // parse the content of the message\n                            if (quad) {\n                                if (quad.predicate.id === \"http://schema.org/text\" && quad.object.id.includes(\"/viade/routes/\")) { // If the quad is the url of the route\n                                    forEachMail(quad.object.id);\n                                    this.addRoutesAsShared([quad.object.id.split(\"\\\"\").join(\"\")]);\n                                    this._eliminateFile(url);\n                                }\n                            }\n                        }.bind(this));\n                    }.bind(this),\n                        (error) => { }\n                    );\n                }.bind(this));\n\n            }.bind(this),\n            (error) => { }\n        );\n\n    }\n\n    _eliminateFile(url) {\n        fc.delete(url);\n    }\n\n    _eliminateSharedFolder() {\n        let url = this.repository + this.defaultFolder + this.sharedDirectory;\n        this.getFolder(url).then(function (folder) {\n            for (let i = 0; i < folder.files.length; i++) {\n                this._eliminateFile(folder.files[i].url);\n            }\n        }.bind(this));\n    }\n\n    /**\n     * Deletes all routes, comments and resources as well as folders regarding viade from the pod\n     *\n     * @param callback - 1 parameter function,\n     *                      + String \"OK\" if the process finished, null if there was an error\n     */\n    async deleteAll(callback = () => { }) {\n        fc.deleteFolderRecursively(this.repository + this.defaultFolder).then(\n            (res) => { callback(\"OK\"); },\n            (error) => { callback(null); }\n        );\n    }\n\n    storeFile(url, data, callback = () => { }) {\n        let response = fc.createFile(url, data);\n        response.then(\n            (response) => { callback(response.url, response); }\n            , (error) => { callback(null, error); }\n        );\n    }\n\n    async addRoutesAsShared(urls) {\n        let file = null;\n        let filename = \"en3a.json\";\n\n        // 1.- Get a shared File\n        try {\n            file = await this.getFile(this.repository + this.defaultFolder + this.sharedDirectory + filename);\n            file = JSON.parse(file);\n        } catch (e) {\n            if (e.status !== 404) {\n                throw e;\n            } else {\n                file = {\n                    \"@context\": {\n                        \"@version\": 1.1,\n                        \"routes\": {\n                            \"@container\": \"@list\",\n                            \"@id\": \"viade:routes\"\n                        },\n                        \"viade\": \"http://arquisoft.github.io/viadeSpec/\"\n                    },\n                    \"routes\": []\n                };\n            }\n        }\n\n        // 2.- Remove duplicated routes\n        let alreadyRoutes = file[\"routes\"].map((url) => { return url[\"@id\"]; });\n        urls.forEach((url) => {\n            if (alreadyRoutes.indexOf(url) === -1) {\n                alreadyRoutes.push(url);\n            }\n        });\n        urls = [];\n\n        // 3.- Rewrite file\n        file[\"routes\"] = alreadyRoutes.map((url) => { return { \"@id\": url.toString() }; });\n\n        this.storeFile(this.repository + this.defaultFolder + this.sharedDirectory + filename, JSON.stringify(file));\n    }\n\n    async getFolder(url) {\n        return fc.readFolder(url);\n    }\n\n    async getFile(url) {\n        return fc.readFile(url);\n    }\n\n    async createBasicFolders() {\n        await fc.createFolder(this.repository + this.defaultFolder);\n        fc.createFolder(this.repository + this.defaultFolder + this.routesDirectory);\n        fc.createFolder(this.repository + this.defaultFolder + this.resourcesDirectory);\n        fc.createFolder(this.repository + this.defaultFolder + this.commentsDirectory);\n        fc.createFolder(this.repository + this.defaultFolder + this.sharedDirectory);\n    }\n}","import PodStorageHandler from \"../components/podService/podStoreHandler\";\nconst auth = require('solid-auth-client');\n\nclass RouteMedia {\n\n    constructor(route, file = null) {\n        this.fileData = file;\n        this.podURL = null;\n        this.podExpectedPath = null;\n\n        this.route = route;\n\n        this.isInPod = false;\n        this.isInLocal = false;\n        this.name = null;\n        if (file) {\n            this.isInLocal = true;\n            if (file.name) {\n                this.name = file.name;\n            }\n        }\n        this.calculateExpectedPodUrl();\n    }\n\n    getUploadFileName() {\n        return this.route.getId() + \"_\" + this.name;\n    }\n\n    getPodUrl() {\n        return this.podURL || this.podExpectedPath;\n    }\n\n    async calculateExpectedPodUrl() {\n        if (this.name) {\n            let store = new PodStorageHandler(await auth.currentSession());\n            this.podExpectedPath = store.getExpectedPathForResource(this.getUploadFileName());\n        }\n    }\n\n    async loadFromPod() {\n        if (this.podURL) {\n            let store = new PodStorageHandler(await auth.currentSession());\n            store.getFile(this.podURL).then(\n                (f) => { this.fileData = f; this.isInLocal = true; }, (err) => { } //TODO;\n            );\n        }\n    }\n\n    async uploadToPod() {\n        if (this.fileData) {\n            this.name = this.fileData.name;\n            this.calculateExpectedPodUrl();\n            let store = new PodStorageHandler(await auth.currentSession());\n            await store.storeResource(this.getUploadFileName(), this.fileData, function (url, error) {\n                if (url) {\n                    this.isInPod = true;\n                    this.podURL = url;\n                } else {\n                    // Error Uploading\n                }\n            }.bind(this));\n        }\n    }\n}\n\nexport default RouteMedia;","import { v4 as uuid } from \"uuid\";\nimport RoutePoint from \"./RoutePoint\";\nimport PodStorageHandler from \"./../components/podService/podStoreHandler\";\nimport RouteMedia from \"./RouteMedia\";\nimport { latLng } from \"leaflet\";\n\nconst auth = require('solid-auth-client');\n\n/**\n * Returns an Array<RoutePoint> that represent the same set of points \n * received as a parameter.\n * @param {Array<{lat:\"\", lng:\"\", elv:\"\"}>} points The list of points to \n * transform.\n */\nfunction processPoints(points) {\n\tlet list = [];\n\tpoints.forEach((point) => {\n\t\tlet routePoint = new RoutePoint(point.lat, point.lng, point.elv, point.name, point.description);\n\t\troutePoint.askForElevation(() => { });\n\t\tlist.push(routePoint);\n\t});\n\treturn list;\n}\n\n/**\n * Calculates in meters the length of the route.\n * @param points - A set of points containing lat and lng\n * @returns {number} - a float with the total distance in meters\n */\nfunction calculateRouteLength(points) {\n\tvar distance = 0;\n\tfor (var i = 1; i < points.length; i++) {\n\t\tlet thisPoint = latLng(points[i].lat, points[i].lng);\n\t\tlet previousPoint = latLng(points[i - 1].lat, points[i - 1].lng);\n\t\tdistance += thisPoint.distanceTo(previousPoint);\n\t}\n\treturn distance;\n}\n\nclass MyRoute {\n\n\t/**\n\t * Constructor for new Route objects. Will be represented by an id \n\t * (uuid generation), an array of RoutePoint objects holding latitude, \n\t * longitude and altitude, a name, an author and a description.\n\t * \n\t * @param {String} name The name of the route.\n\t * @param {String} author The creator of the route.\n\t * @param {String} description A description of the route.\n \t * @param {Array<{lat:\"\", lng:\"\"}>} points The list of points of this rule.\n\t */\n\tconstructor(name, author, description, points = []) {\n\t\tthis.id = uuid().toString();\n\t\tthis.name = name;\n\t\tthis.author = author;\n\t\tthis.description = description;\n\t\tthis.points = processPoints(points);\n\t\tthis.media = [];\n\t\tthis.routeLength = calculateRouteLength(points);\n\t}\n\n\tgetId() {\n\t\treturn this.id;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tgetAuthor() {\n\t\treturn this.author;\n\t}\n\n\tgetDescription() {\n\t\treturn this.description;\n\t}\n\n\tgetPoints() {\n\t\treturn this.points;\n\t}\n\n\tgetFileName() {\n\t\treturn this.id + \".json\";\n\t}\n\n\t/**\n\t * Returns the route length in kilometers and with two decimals.\n\t * @returns {number} - Route length with format -> \"###.## km\"\n\t */\n\tgetRouteLength() {\n\t\tlet value = this.routeLength / 1000;\n\t\treturn value.toFixed(2) + \" km\";\n\t}\n\n\taddMedia(file) {\n\t\tthis.media.push(new RouteMedia(this, file));\n\t}\n\n\taddSimplePoints(points) {\n\n\t\tpoints.forEach((point) => {\n\t\t\tlet exists = this.points.find((p) => p.getLatitude() === point.lat || p.getLongitude() === point.lng);\n\n\t\t\tif (exists === undefined) { //point not exists in waypoints\n\t\t\t\tlet newPoint = new RoutePoint(point.lat, point.lng, point.elv);\n\t\t\t\tnewPoint.askForElevation();\n\t\t\t\tthis.points.push(newPoint);\n\t\t\t}\n\t\t});\n\n\t}\n\n\tasync uploadToPod(callback) {\n\t\tlet session = await auth.currentSession();\n\t\tlet storageHandler = new PodStorageHandler(session);\n\n\n\t\t//this.media.forEach(await async function(m){ await m.uploadToPod(); });\n\t\tawait this.uploadMedia();\n\t\tawait storageHandler.storeRoute(this.getFileName(), this.toJsonLd(), callback);\n\t}\n\n\tasync uploadMedia() {\n\t\tfor (let i = 0; i < this.media.length; i++) {\n\t\t\tawait this.media[i].uploadToPod();\n\t\t}\n\t}\n\n\tupdatePoints(newPoints, callback) {\n\t\tlet newListOfPoints = [];\n\t\tnewPoints.forEach((newPoint) => {\n\t\t\tlet found = this.points.find(\n\t\t\t\t(each) => each.getLatitude() === newPoint.lat && each.getLongitude() === newPoint.lng\n\t\t\t);\n\t\t\tif (found === undefined) {\n\t\t\t\tlet tempPoint = new RoutePoint(newPoint.lat, newPoint.lng);\n\t\t\t\ttempPoint.askForElevation(\n\t\t\t\t\t(elevationResult, pointsList = newListOfPoints) => {\n\t\t\t\t\t\tif (elevationResult !== null) {\n\t\t\t\t\t\t\tcallback(pointsList);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tnewListOfPoints.push(tempPoint);\n\t\t\t} else {\n\t\t\t\tnewListOfPoints.push(found);\n\t\t\t\tcallback(newListOfPoints);\n\t\t\t}\n\t\t});\n\t\tthis.points = newListOfPoints;\n\t\tcallback(this.points);\n\t}\n\n\tgetComparableString() {\n\t\ttry {\n\t\t\tlet parsedRoute = JSON.parse(this.toJsonLd());\n\t\t\tparsedRoute[\"@context\"] = \"\";\n\t\t\tparsedRoute[\"id\"] = \"\";\n\t\t\treturn JSON.stringify(parsedRoute);\n\t\t} catch (error) {\n\t\t\treturn JSON.stringify({});\n\t\t}\n\t}\n\n\tmodifyFromJsonLd(parsedRoute) {\n\t\ttry {\n\t\t\tparsedRoute = JSON.parse(parsedRoute);\n\n\t\t\tif (parsedRoute[\"id\"] === undefined) {\n\t\t\t\tthis.id = uuid().toString();\n\t\t\t} else {\n\t\t\t\tthis.id = parsedRoute[\"id\"];\n\t\t\t}\n\n\t\t\tthis.name = parsedRoute[\"name\"];\n\t\t\tthis.author = parsedRoute[\"author\"];\n\t\t\tthis.description = parsedRoute[\"description\"];\n\n\t\t\tlet rawWaypoints = parsedRoute[\"waypoints\"];\n\t\t\tif (rawWaypoints !== undefined) {\n\t\t\t\trawWaypoints = rawWaypoints.map((jsonPoint) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlat: jsonPoint[\"latitude\"],\n\t\t\t\t\t\tlng: jsonPoint[\"longitude\"],\n\t\t\t\t\t\telv: jsonPoint[\"elevation\"],\n\t\t\t\t\t\tname: jsonPoint[\"name\"],\n\t\t\t\t\t\tdescription: jsonPoint[\"description\"]\n\t\t\t\t\t};\n\t\t\t\t});\n\n\n\t\t\t\tthis.points = processPoints(rawWaypoints);\n\t\t\t}\n\n\t\t\tlet rawPoints = parsedRoute[\"points\"];\n\t\t\tif (rawPoints !== undefined) {\n\t\t\t\trawPoints = rawPoints.map((jsonPoint) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlat: jsonPoint[\"latitude\"],\n\t\t\t\t\t\tlng: jsonPoint[\"longitude\"],\n\t\t\t\t\t\telv: jsonPoint[\"elevation\"]\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tthis.addSimplePoints(rawPoints);\n\t\t\t}\n\t\t\tif (this.points.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.media = [];\n\t\t\tlet mediaURIs = parsedRoute[\"media\"];\n\t\t\tmediaURIs.map((j) => { return j[\"@id\"]; }).forEach(function (url) {\n\t\t\t\tlet newMedia = new RouteMedia(this);\n\t\t\t\tnewMedia.isInPod = true;\n\t\t\t\tnewMedia.podURL = url;\n\t\t\t\tthis.media.push(newMedia);\n\t\t\t}.bind(this));\n\n\t\t\tthis.routeLength = calculateRouteLength(rawPoints);\n\n\t\t\treturn true;\n\t\t} catch (error) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\ttoJsonLd() {\n\t\tlet pointsInJson = [];\n\t\tlet waypointsInJson = [];\n\t\tlet mediaInJson = [];\n\t\tthis.points.forEach((point) => pointsInJson.push(point.toJson()));\n\t\tthis.points.forEach((point) => waypointsInJson.push(point.toWaypointJson()));\n\t\tthis.media.map((media) => { return media.getPodUrl(); }).forEach((url) => {\n\t\t\tmediaInJson.push(\n\t\t\t\t{\n\t\t\t\t\t\"@id\": url\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\treturn JSON.stringify(\n\t\t\t{\n\t\t\t\t\"@context\": {\n\t\t\t\t\t\"@version\": 1.1,\n\t\t\t\t\t\"comments\": {\n\t\t\t\t\t\t\"@id\": \"viade:comments\",\n\t\t\t\t\t\t\"@type\": \"@id\"\n\t\t\t\t\t},\n\t\t\t\t\t\"description\": {\n\t\t\t\t\t\t\"@id\": \"schema:description\",\n\t\t\t\t\t\t\"@type\": \"xsd:string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"media\": {\n\t\t\t\t\t\t\"@container\": \"@list\",\n\t\t\t\t\t\t\"@id\": \"viade:media\"\n\t\t\t\t\t},\n\t\t\t\t\t\"name\": {\n\t\t\t\t\t\t\"@id\": \"schema:name\",\n\t\t\t\t\t\t\"@type\": \"xsd:string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"points\": {\n\t\t\t\t\t\t\"@container\": \"@list\",\n\t\t\t\t\t\t\"@id\": \"viade:points\"\n\t\t\t\t\t},\n\t\t\t\t\t\"latitude\": {\n\t\t\t\t\t\t\"@id\": \"schema:latitude\",\n\t\t\t\t\t\t\"@type\": \"xsd:double\"\n\t\t\t\t\t},\n\t\t\t\t\t\"longitude\": {\n\t\t\t\t\t\t\"@id\": \"schema:longitude\",\n\t\t\t\t\t\t\"@type\": \"xsd:double\"\n\t\t\t\t\t},\n\t\t\t\t\t\"elevation\": {\n\t\t\t\t\t\t\"@id\": \"schema:elevation\",\n\t\t\t\t\t\t\"@type\": \"xsd:double\"\n\t\t\t\t\t},\n\t\t\t\t\t\"author\": {\n\t\t\t\t\t\t\"@id\": \"schema:author\",\n\t\t\t\t\t\t\"@type\": \"@id\"\n\t\t\t\t\t},\n\t\t\t\t\t\"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n\t\t\t\t\t\"rdfs\": \"http://www.w3.org/2000/01/rdf-schema#\",\n\t\t\t\t\t\"schema\": \"http://schema.org/\",\n\t\t\t\t\t\"viade\": \"http://arquisoft.github.io/viadeSpec/\",\n\t\t\t\t\t\"xsd\": \"http://www.w3.org/2001/XMLSchema#\"\n\t\t\t\t},\n\t\t\t\t\"id\": this.id,\n\t\t\t\t\"name\": this.name,\n\t\t\t\t\"author\": this.author,\n\t\t\t\t\"description\": this.description,\n\t\t\t\t\"comments\": \"\",\n\t\t\t\t\"media\": mediaInJson,\n\t\t\t\t\"waypoints\": waypointsInJson,\n\t\t\t\t\"points\": pointsInJson\n\t\t\t}\n\t\t);\n\t}\n\n}\n\nexport default MyRoute;","const auth = require('solid-auth-client');\nconst { default: data } = require('@solid/query-ldflex');\nclass UserDetails {\n\n  static async getName() {\n    var session = await auth.currentSession();\n    var username = data[session.webId].vcard_fn;\n    return username;\n  }\n\n  static async getUsername() {\n    var session = await auth.currentSession();\n    return (session).webId.split('/')[2].split('.')[0];\n  }\n\n    static async getSolidProfile(){\n      var session = await auth.currentSession();\n      return (session).webId;\n  }\n\n    static async getLocality(){\n        return new Promise((resolve, reject) => {\n            data.user[\"http://www.w3.org/2006/vcard/ns#hasAddress\"].value\n              .then((addressCard) => {\n                data[addressCard].vcard_locality.value\n                .then((locality) => {\n                  resolve(locality);\n                })\n                .catch((error) => reject(error));\n              })\n              .catch((error) => reject(error));\n        });\n    }\n\n  static async getRegion() {\n    return new Promise((resolve, reject) => {\n      data.user[\"http://www.w3.org/2006/vcard/ns#hasAddress\"].value\n        .then((addressCard) => {\n          data[addressCard].vcard_region.value\n            .then((region) => {\n              resolve(region);\n            })\n            .catch((error) => reject(error));\n        })\n        .catch((error) => reject(error));\n    });\n  }\n\n  static async getEmail() {\n    return new Promise((resolve, reject) => {\n      data.user[\"http://www.w3.org/2006/vcard/ns#hasEmail\"].value\n        .then((emailCard) => {\n          data[emailCard].vcard_value.value\n            .then((email) => {\n              resolve(email.substring('mailto:'.length));\n            })\n            .catch((error) => reject(error));\n        })\n        .catch((error) => reject(error));\n    });\n  }\n\n  static async getPhone() {\n    return new Promise((resolve, reject) => {\n      data.user[\"http://www.w3.org/2006/vcard/ns#hasTelephone\"].value\n        .then((phoneCard) => {\n          data[phoneCard].vcard_value.value\n            .then((phone) => {\n              resolve(phone.substring('tel:'.length));\n            })\n            .catch((error) => reject(error));\n        })\n        .catch((error) => reject(error));\n    });\n  }\n\n    static async getImage(){\n      var session = await auth.currentSession();\n        var photo = data[session.webId].vcard_hasPhoto;\n        return photo;\n    }\n}\n\nexport default UserDetails;","import React from 'react';\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\nimport { search } from \"nominatim\";\nimport { toast } from \"react-toastify\";\nimport i18n from '../../i18n';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.map = props.map;\n        this.search = React.createRef();\n    }\n\n    handleEnter = (event) => {\n        if (event.charCode === 13) {\n            event.preventDefault();\n            this.lookFor(this.search.current.value);\n        }\n    };\n\n    lookFor(text) {\n        toast.dismiss();\n        if (this.search.current.value.length === 0) {\n            toast.error(i18n.t(\"alertNoInputOnSearch\"));\n        } else {\n            toast.info(i18n.t(\"searching\"));\n\n            fetch(\"https://nominatim.openstreetmap.org/search?q=\"+text+\"&addressdetails=1&limit=3&format=json\").then( (response) => {\n                if(response.status===200){\n                    response.json().then( (results) => {\n                        if (results.length > 0) {\n                            let firstFound = results[0];\n\n                            this.map.current.setState({ editablePosition: [firstFound.lat, firstFound.lon] });\n                            this.map.current.setState({ boundingbox: firstFound.boundingBox });\n\n                            this.search.current.value = firstFound.display_name;\n\n                            toast.dismiss();\n                            toast.success(i18n.t(\"mapCreationSearchBarFound\") + firstFound.display_name);\n                        }\n                        else {\n                            this.search.current.value = \"\";\n\n                            toast.dismiss();\n                            toast.error(i18n.t(\"mapCreationSearchBarError\"));\n                        }\n                    });\n                }\n                else{\n                    this.search.current.value = \"\";\n\n                    toast.dismiss();\n                    toast.error(i18n.t(\"mapCreationSearchBarError\"));\n\n                }\n            });\n        }\n    }\n\n\n    render() {\n\n        return (\n            <div>\n                <Form style={{ margin: \"1%\" }}>\n                    <Form.Group as={Row}>\n                        <Col sm={2}>\n                            <Form.Label>{i18n.t('searchBarLabel')}</Form.Label>\n                        </Col>\n                        <Col>\n                            <Form.Control\n                                id=\"txtSearch\"\n                                onKeyPress={this.handleEnter}\n                                ref={this.search}\n                            />\n                        </Col>\n                        <Col sm={0.5}>\n                            <Button\n                                id=\"btnSearch\"\n                                variant=\"primary\"\n                                onClick={() => this.lookFor(this.search.current.value)}\n                            ><i className=\"fa fa-search\"></i>\n                            </Button>\n                        </Col>\n                    </Form.Group>\n                </Form>\n            </div>\n        );\n    }\n}\n\nexport default SearchBar;\n\n","import React from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function RouteCreationForm(props) {\n    const {t} = useTranslation();\n\n    return (\n        <div id=\"routeCreationFormDiv\" style={{ padding: \"0% 10% 0% 5%\" }}>\n            <Form>\n                <Form.Group as={Row}>\n                    <Col sm={2}>\n                        <Form.Label>{t('routeName')}</Form.Label>\n                    </Col>\n                    <Col>\n                        <Form.Control\n                            placeholder={t('routeNamePlaceholder')}\n                            ref={props.routeNameRef}\n                            role=\"name\"\n                            id=\"routeNameInput\"\n                        />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Col sm={2}>\n                        <Form.Label>{t('routeDescription')}</Form.Label>\n                    </Col>\n                    <Col>\n                        <Form.Control\n                            as={\"textarea\"}\n                            placeholder={t('routeDescriptionPlaceholder')}\n                            ref={props.routeDescriptionRef}\n                            role=\"description\"\n                            rows={3}\n                        />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Col sm={2}>\n                        <Form.Label>{t('fileUpload')}</Form.Label>\n                    </Col>\n                    <Col>\n                        <div className=\"input-group\">\n                            <div className=\"custom-file\">\n                                <label className=\"custom-file-label\" htmlFor=\"routeFileUpload\">\n                                    {t('fileUploadLabel')}\n                                </label>\n                                <input\n                                    id=\"routeFileUpload\"\n                                    type=\"file\"\n                                    multiple\n                                    accept=\"image/*\"\n                                    className=\"custom-file-input\"\n                                />\n                            </div>\n                        </div>\n                    </Col>\n                </Form.Group>\n            </Form>\n        </div>\n    );\n}","import React from 'react';\nimport { Line } from 'react-chartjs-2';\n\n\nclass MyElevationChart extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            points: props.route.getPoints()\n        };\n        this.init(this.state.points);\n    }\n\n    init(points) {\n        let index = 1;\n        this.data = {\n            labels: points.map((p) => `P${index++}`),\n            datasets: [\n                {\n                    label: 'Elevation',\n                    fill: false,\n                    lineTension: 0.1,\n                    backgroundColor: 'rgba(75,192,192,0.4)',\n                    borderColor: 'rgba(75,192,192,1)',\n                    borderCapStyle: 'butt',\n                    borderDash: [],\n                    borderDashOffset: 0.0,\n                    borderJoinStyle: 'miter',\n                    pointBorderColor: 'rgba(75,192,192,1)',\n                    pointBackgroundColor: '#fff',\n                    pointBorderWidth: 1,\n                    pointHoverRadius: 5,\n                    pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n                    pointHoverBorderColor: 'rgba(220,220,220,1)',\n                    pointHoverBorderWidth: 2,\n                    pointRadius: 1,\n                    pointHitRadius: 10,\n                    data: points.map((p) => p.getElevation()),\n                }\n            ]\n        };\n        this.lineOptions = {\n            scales: {\n                xAxes: [{\n                    gridLines: {\n                        display: true,\n                    },\n                }],\n                yAxes: [{\n                    // stacked: true,\n                    gridLines: {\n                        display: true,\n                    },\n                    ticks: {\n                        beginAtZero: true,\n\n                    },\n                }],\n            },\n            legend: {\n                display: false,\n            },\n            tooltips: {\n                enabled: true,\n            },\n        };\n    }\n\n    update(newPoints) {\n        this.init(newPoints);\n        this.setState({ points: this.state.points });\n    }\n\n    render() {\n        return (\n            <div style={this.props.style}>\n                <Line\n                    data={this.data}\n                    options={this.lineOptions}\n                />\n            </div>\n        );\n    }\n}\n\nexport default MyElevationChart;\n","import React from 'react';\nimport {Table, Button, FormControl} from 'react-bootstrap';\nimport i18n from \"../../i18n\";\nclass PointInfo extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.map = props.map;\n        this.state = {point: undefined, disabled:true};\n        this.nameForm = React.createRef();\n        this.descriptionForm = React.createRef();\n    }\n\n    setPoint(newPoint){\n        this.setState({point: newPoint});\n        if(newPoint!==undefined) {\n            this.nameForm.current.value = newPoint.name === undefined ? \"\" : newPoint.name;\n            this.descriptionForm.current.value = newPoint.description === undefined ? \"\" : newPoint.description;\n        }\n    }\n\n    remove = () => {\n        this.map.current.remove(this.state.point);\n    };\n\n\n    save = () => {\n        let name = this.nameForm.current.value;\n        let desc = this.descriptionForm.current.value;\n        this.map.current.updatePointNameDescription(this.state.point,name,desc);\n        this.disable();\n    };\n\n    disable = () => {\n        this.setState({disabled:true});\n    };\n\n    enable = () => {\n        this.setState({disabled:false});\n    };\n\n\n\n    isEditing(){\n            return(<tr>\n                <td><p style={{margin:\"1.5vh\"}}>{this.state.point.lat.toFixed(3)}</p></td>\n                <td><p style={{margin:\"1.5vh\"}}>{this.state.point.lng.toFixed(3)}</p></td>\n                <td><FormControl style={{margin:\"1.5vh 0%\"}} ref={this.nameForm} onChange={this.enable}></FormControl></td>\n                <td><FormControl style={{margin:\"1.5vh 0%\"}} ref={this.descriptionForm} onChange={this.enable}></FormControl></td>\n                <td >\n                    <Button style={{margin:\"1.5vh\"}}\n                             onClick={this.save}\n                             disabled={this.state.disabled}><i className=\"fa fa-floppy-o\" aria-hidden=\"true\"></i></Button>\n                    <Button style={{backgroundColor:\"red\", borderColor:\"white\", margin:\"1.5vh\"}}\n                            onClick={this.remove}><i className=\"fa fa-trash-o fa-fw\"></i></Button>\n                </td>\n            </tr>);\n    }\n\n    printPoint(){\n        if(this.state.point===undefined){\n            return <tr><td colSpan={5}>{i18n.t('editMessage')}</td></tr>;\n        }\n        else {\n         return(this.isEditing());\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>{i18n.t('latitude')}</th>\n                            <th>{i18n.t('longitude')}</th>\n                            <th>{i18n.t('name')}</th>\n                            <th>{i18n.t('description')}</th>\n                            <th>{i18n.t('actions')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.printPoint()}\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\nexport default PointInfo;\n","import React, { Component } from 'react';\nimport Button from \"react-bootstrap/Button\";\nimport { Spinner } from 'react-bootstrap';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { Translation } from 'react-i18next';\nimport i18n from '../i18n';\n\nimport EditableMap from '../components/editableMap/EditableMap';\nimport MyRoute from \"../model/MyRoute\";\nimport UserDetails from \"../model/Util\";\nimport SearchBar from \"../components/routeCreation/SearchBar\";\nimport RouteCreationForm from \"../components/routeCreation/RouteCreationForm\";\nimport MyElevationChart from \"../components/myElevationChart/MyElevationChart\";\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport \"./../css/routeCreation.css\";\nimport './../css/App.css';\nimport PointInfo from \"../components/pointInfo/PointInfo\";\n\nclass RouteCreation extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.routeName = React.createRef();\n\t\tthis.routeDescription = React.createRef();\n\t\tthis.map = React.createRef();\n\t\tthis.elevationChart = React.createRef();\n\t\tthis.pointInfo = React.createRef();\n\t\tthis.routeManager = props.routeManager;\n\t\tthis.tempRoute = undefined;\n\t\tthis.newRoute = new MyRoute(\"\", \"\", \"\", []);\n\t}\n\n\n\ttoggleSpinner() {\n\t\tlet spinner = document.getElementById(\"spinner\");\n\t\tspinner.hidden = !spinner.hidden;\n\t}\n\n\tasync createRoute() {\n\t\tthis.toggleSpinner();\n\t\tdocument.getElementById(\"btnSave\").disabled = true;\n\t\ttoast.dismiss();\n\t\tlet valid = true;\n\t\tlet name = this.routeName.current.value;\n\t\tif (name === '') {\n\t\t\tvalid = false;\n\t\t\ttoast.error(i18n.t('alertName'));\n\t\t}\n\t\tlet points = this.map.current.state.points;\n\t\tif (points.length < 2) {\n\t\t\tvalid = false;\n\t\t\ttoast.error(i18n.t('alertPoints'));\n\t\t}\n\n\t\tif (!valid) {\n\t\t\tthis.toggleSpinner();\n\t\t\tdocument.getElementById(\"btnSave\").disabled = false;\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet description = this.routeDescription.current.value;\n\t\tlet route = new MyRoute(name, await UserDetails.getUsername(), description, points);\n\t\treturn route;\n\t}\n\n\tcheckRouteChanged(newRoute) {\n\t\tif ((this.tempRoute === undefined) || ((this.tempRoute.getComparableString() !== newRoute.getComparableString()))) {\n\t\t\tthis.tempRoute = newRoute;\n\t\t\tthis.routeManager.addRoute(this.tempRoute);\n\t\t\treturn newRoute;\n\t\t} else {\n\t\t\treturn this.tempRoute;\n\t\t}\n\t}\n\n\tasync uploadToPod() {\n\t\tlet route = await this.createRoute();\n\t\tif (route === undefined) {\n\t\t\treturn;\n\t\t}\n\t\troute = this.checkRouteChanged(route);\n\t\tdocument.getElementById(\"routeFileUpload\").files.forEach((f) => { route.addMedia(f); });\n\t\tawait route.uploadToPod((filePodUrl, podResponse) => {\n\t\t\tif (filePodUrl === null) {\n\t\t\t\ttoast.error(i18n.t('alertAccessPOD'));\n\t\t\t} else {\n\t\t\t\tthis.toggleSpinner();\n\t\t\t\twindow.location.href = \"#routes/list\";\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"routeCreationContainer\" >\n\t\t\t\t<ToastContainer\n\t\t\t\t\tid=\"toastContainer\"\n\t\t\t\t\tposition={toast.POSITION.TOP_CENTER}\n\t\t\t\t\tautoClose={5000}\n\t\t\t\t/>\n\n\t\t\t\t<h1 style={{ padding: \"1%\" }} id=\"title\">{i18n.t('mapCreationTitle')}</h1>\n\n\n\t\t\t\t<RouteCreationForm\n\t\t\t\t\trouteNameRef={this.routeName}\n\t\t\t\t\trouteDescriptionRef={this.routeDescription}\n\t\t\t\t/>\n\n\t\t\t\t<div id=\"mapPointsContainer\" style={{ padding: \"1% 0%\" }}>\n\t\t\t\t\t<div id=\"mapAndSearch\">\n\t\t\t\t\t\t<SearchBar map={this.map} />\n\t\t\t\t\t\t<EditableMap\n\t\t\t\t\t\t\tref={this.map}\n\t\t\t\t\t\t\tpointInfo={this.pointInfo}\n\t\t\t\t\t\t\tonChange={(points, elevationChart = this.elevationChart) => {\n\t\t\t\t\t\t\t\tthis.newRoute.updatePoints(points, (updatedPoints, chart = elevationChart) => {\n\t\t\t\t\t\t\t\t\tchart.current.update(updatedPoints);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"pointManager\">\n\t\t\t\t\t\t<h2 style={{ padding: \"3% 1% 2% 1%\" }}>{i18n.t('routeCreationElevationPreviewTitle')}</h2>\n\t\t\t\t\t\t<MyElevationChart style={{ padding: \"3% 1% 2% 1%\" }} ref={this.elevationChart} route={this.newRoute} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={{ margin: \"1.5vh\" }}>\n\t\t\t\t\t<PointInfo map={this.map} ref={this.pointInfo} />\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<Translation>\n\t\t\t\t\t\t{(t) =>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tid=\"btnSave\"\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => { this.uploadToPod(); }}\n\t\t\t\t\t\t\t\tstyle={{ margin: \"1.5vh\" }}\n\t\t\t\t\t\t\t>{t('mapCreationSaveButton')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Translation>\n\t\t\t\t\t<Spinner id={\"spinner\"} hidden animation=\"border\" />\n\t\t\t\t</div>\n\t\t\t</div >\n\t\t);\n\t}\n}\n\n\nexport default RouteCreation;\n","import React from 'react';\nimport { Map, TileLayer, Marker, Polyline, FeatureGroup,Popup } from 'react-leaflet';\n\nimport \"./../../css/MyMap.css\";\nimport L from \"leaflet\";\n\nclass MyMap extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.map = React.createRef();\n\t\tthis.route = props.route;\n\t\tthis.movable = props.movable;\n\t\tthis.normalIcon = L.icon({\n\t\t\ticonUrl: require(\"../../assets/mapIcons/iconNormal.svg\"),\n\t\t\ticonSize: [64,64],\n\t\t\ticonAnchor: [32, 54],\n\t\t\tpopupAnchor: [32,0],\n\t\t\tshadowUrl: null,\n\t\t\tshadowSize: null,\n\t\t\tshadowAnchor: null\n\t\t});\n\t\tthis.editedIcon = L.icon({\n\t\t\ticonUrl: require(\"../../assets/mapIcons/iconEdited.svg\"),\n\t\t\ticonSize: [64,64],\n\t\t\ticonAnchor: [32, 54],\n\t\t\tpopupAnchor: [0,-40],\n\t\t\tshadowUrl: null,\n\t\t\tshadowSize: null,\n\t\t\tshadowAnchor: null\n\t\t});\n\t}\n\n\tsetPositionScaled = (e) => {\n\t\tthis.map.current.leafletElement.fitBounds(e.target.getBounds().pad(0.25));\n\t}\n\n\tgetPopup(point){\n\t\tif(point.name !== \"\"){\n\t\t\tif(point.description !== \"\"){\n\t\t\t\treturn (<Popup><b>{point.name}</b><br/>{point.description}</Popup>);\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn (<Popup><b>{point.name}</b></Popup>);\n\t\t\t}\n\t\t} else{\n\t\t\tif(point.description !== \"\"){\n\t\t\t\treturn (<Popup>{point.description}</Popup>);\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgetIcon(point) {\n\t\tif(point.name!==\"\" || point.description!==\"\") {\n\t\t\treturn this.editedIcon;\n\t\t} else {\n\t\t\treturn this.normalIcon;\n\t\t}\n\t}\n\n\tgetMarkers(points){\n\t\tif(this.movable){\n\t\t\treturn (this.route.getPoints().map((point,index) =>\n\t\t\t\t\t<Marker marker_index={index}\n\t\t\t\t\t\t\tposition={[point.getLatitude(),point.getLongitude()]}\n\t\t\t\t\t\t\ticon={this.getIcon(point)}>\n\t\t\t\t\t\t{this.getPopup(point)};\n\t\t\t\t\t</Marker>\n\t\t\t\t));\n\t\t}\n\t\telse{\n\t\t\treturn(\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Marker position={points[0]} icon={this.normalIcon}/>\n\t\t\t\t\t<Marker position={points[points.length-1]} icon={this.normalIcon}/>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\trender() {\n\t\tlet points = [];\n\n\t\tthis.route.getPoints().forEach((waypoint) => {\n\t\t\tpoints.push([waypoint.getLatitude(), waypoint.getLongitude()]);\n\t\t});\n\n\n\t\treturn (\n\n\t\t\t<Map ref={this.map} center={[0, 0]} zoom={this.props.zoom} dragging={this.movable}\n\t\t\t\tscrollWheelZoom={this.movable} touchZoom={this.movable} zoomControl={this.movable}\n\t\t\t\tdoubleClickZoom={this.movable} style={this.props.style}>\n\t\t\t\t<TileLayer\n\t\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\t/>\n\t\t\t\t<FeatureGroup onAdd={this.setPositionScaled} >\n\t\t\t\t\t{this.getMarkers(points)}\n\t\t\t\t\t<Polyline positions={points} color='red' />\n\t\t\t\t</FeatureGroup>\n\t\t\t</Map>\n\t\t);\n\t}\n}\n\nexport default MyMap;\n","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport MyMap from './../myMap/MyMap';\nimport i18n from \"../../i18n\";\n\n\nclass RouteCard extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.route = props.route;\n        this.state = {\n            mapComponent: <MyMap\n                route={this.route}\n                movable={false}\n                zoom={12}\n                style={{ borderRadius: \"5px\", margin: \"0\", height: \"100%\", width: \"100%\" }}\n            />\n        };\n        this.showShareButton = true;\n        if (props.showShareButton !== undefined) {\n            this.showShareButton = props.showShareButton;\n        }\n\n        this.showInfoButton = true;\n        if (props.showInfoButton !== undefined) {\n            this.showInfoButton = props.showInfoButton;\n        }\n    }\n\n    render() {\n        let buttons = [\n            this.showInfoButton && <Button variant=\"dark\" href={`#routes/info/${this.route.id}`}>{i18n.t('info')}</Button>,\n            this.showShareButton && <Button variant=\"dark\" style={{ margin: \"16px\" }} href={`#routes/share/${this.route.id}`}>{i18n.t('share')}</Button>\n        ];\n\n        return (\n            <Card text=\"dark\">\n                <Card.Header style={{ minHeight: \"100px\", height: \"300px\", padding: \"0\" }}>\n                    <div id={\"routeMapDiv-\" + this.route.id} style={{ width: \"100%\", height: \"100%\", padding: \"0\" }}>\n                        {this.state.mapComponent}\n                    </div>\n                </Card.Header>\n                <Card.Body>\n                    <Card.Title style={{ fontSize: \"24px\" }}>{this.route.name}</Card.Title>\n                    <Card.Text style={{ fontSize: \"18px\" }}>{this.route.description}</Card.Text>\n                    {buttons}\n                </Card.Body>\n            </Card >\n        );\n    }\n\n    update() {\n        this.setState({ mapComponent: this.state.mapComponent });\n    }\n\n    toggleShareButton(){\n        this.showShareButton = !this.showShareButton;\n    }\n}\n\n\nexport default RouteCard;","class RouteManager {\n\n    constructor() {\n        this.resetRoutes();\n    }\n\n    getRoutes() {\n        return this.routes;\n    }\n\n    getRouteById(id) {\n        return this.routes.find((route) => route.getId() === id);\n    }\n\n    addRoute(route) {\n        this.routes.push(route);\n    }\n\n    addSharedRoute(route) {\n        this.routesSharedToMe.push(route);\n    }\n\n    getSharedRouteById(id) {\n        return this.routesSharedToMe.find((route) => route.getId() === id);\n    }\n\n    resetRoutes() {\n        this.routes = [];\n        this.routesSharedToMe = [];\n    }\n\n    getAnyRouteById(id) {\n        return this.getRouteById(id) || this.getSharedRouteById(id);\n    }\n}\n\nconst routeManager = new RouteManager();\nexport default routeManager;","import React from \"react\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { CardDeck, Spinner } from \"react-bootstrap\";\nimport { Translation } from 'react-i18next';\nimport i18n from '../i18n';\n\nimport PodStorageHandler from \"../components/podService/podStoreHandler\";\nimport RouteCard from \"../components/routeList/RouteCard\";\nimport MyRoute from \"../model/MyRoute\";\nimport $ from \"jquery\";\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport RouteManager from \"../model/RouteManager\";\n\nconst auth = require('solid-auth-client');\n\nclass RouteList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.routeManager = RouteManager;\n        this.cardDeckSize = 4;\n        this.state = {\n            routes: [],\n            sharedRoutes: [],\n            spinnerHidden: false,\n        };\n        if (props.sync === undefined || props.sync === true) { // avoid sync with pod, used for RouteList.test.js\n            this.syncRoutesWithPod().then(() => {\n                this.state.spinnerHidden = true;\n            });\n            this.processedRoutes = 0;\n            this.retrievedRoutes = 0;\n        }\n    }\n\n    render() {\n        let routesForCardDecks = [];\n        let counter = 0;\n        while (counter <= this.state.routes.length) {\n            routesForCardDecks.push(\n                <CardDeck style={{ padding: \"1% 0% 1% 2%\", width: \"100%\" }}>\n                    {this.state.routes.slice(counter, counter + this.cardDeckSize).map(\n                        (r) => <RouteCard route={r} />\n                    )}\n                </CardDeck>\n            );\n            counter += this.cardDeckSize;\n        }\n\n        return (\n            <div>\n                <ToastContainer\n                    position={toast.POSITION.TOP_CENTER}\n                    autoClose={5000}\n                />\n                <Translation>\n                    {\n                        (t) => <h1 style={{ padding: \"1%\" }}>{t('routeListText')}</h1>\n                    }\n                </Translation>\n                <Translation>\n                    {\n                        (t) => <h2 style={{ padding: \"1%\" }} hidden={this.state.spinnerHidden}>{t('routeListLoadingMessage')}</h2>\n                    }\n                </Translation>\n\n                <Spinner id={\"spinner\"} hidden={this.state.spinnerHidden} animation=\"border\" />\n                {routesForCardDecks}\n                <div id=\"messageArea\">\n                    {this.state.message}\n                </div>\n            </div>\n        );\n    }\n\n    async syncRoutesWithPod() {\n        this.routeManager.resetRoutes();\n        let session = await auth.currentSession();\n        if (session !== null && session !== undefined) {\n            let storageHandler = new PodStorageHandler(session);\n\n            // Handle my Routes\n            storageHandler.getRoutes((routeJson, error) => {\n                if (routeJson === null) {\n                    toast.error(i18n.t('alertAccessPOD'));\n                    return 0;\n                } else {\n                    if (routeJson.length !== 0) {\n                        let tempRoute = new MyRoute(\"\", \"\", \"\", []);\n                        if (tempRoute.modifyFromJsonLd(routeJson)) { //isValid\n                            this.routeManager.addRoute(tempRoute);\n                            let tempList = this.state.routes;\n                            tempList.push(tempRoute);\n                            this.processedRoutes += 1;\n                            if (this.processedRoutes === this.retrievedRoutes) {\n                                this.setState({ routes: tempList });\n                                $(\"#messageArea\").empty();\n                            }\n                        } else { //isinvalid\n                            toast.error(i18n.t('invalidRoute'));\n                            this.retrievedRoutes--;\n                            if (this.processedRoutes === this.retrievedRoutes) {\n                                this.setState({ routes: this.state.routes });\n                                $(\"#messageArea\").empty();\n                            }\n                        }\n                    }\n                    return this.processedRoutes;\n                }\n            }).then(\n                (result) => {\n                    if (result === 0) {\n                        this.setState({\n                            message:\n                                <div>\n                                    <h3>{i18n.t('routeListOoopsTitle')}</h3>\n                                    <p>{i18n.t('routeListOoopsParagraph')}</p>\n                                </div>\n                        });\n                    } else {\n                        this.retrievedRoutes = result;\n                    }\n\n                }\n            );\n        }\n    }\n\n\n\n}\n\nexport default RouteList;","import React from \"react\";\nimport { Translation } from 'react-i18next';\nimport viadeMainView from '../assets/howRoutesWork/main.png';\nimport viadeSampleRoutes from '../assets/howRoutesWork/newRouteList.png';\nimport viadeCreateRoute from '../assets/howRoutesWork/Screenshot_1.png';\nimport viadeDetailsRoute from '../assets/howRoutesWork/routeDetails.png';\nimport viadeShareRoute from '../assets/howRoutesWork/Screenshot_4.png';\n\nimport '../css/routeHelp.css';\n\nexport default class RouteHelp extends React.Component {\n    // TODO; add h1 padding to style\n    constructor(props){\n        super(props);\n        this.orderOfElements = [\n            [(\"routeHelpIntro\"),    this.getIntroduction],\n            [(\"routeHelpCreatePOD\"),    this.getCreateAPod],\n            [(\"routeHelpLogin\"),    this.getLogin],\n            [(\"routeHelpCreateRoutes\"),    this.getCreateARoute],\n            [(\"routeHelpViewRoutes\"),    this.getViewARoute],\n            [(\"routeHelpShareRoutes\"),    this.getShareWithFiends],\n        ];\n    }\n\n    render() {\n        let interior = [this.getIndex()];\n        for (let i = 0; i < this.orderOfElements.length; i++) {\n            let e = this.orderOfElements[i];\n            interior.push(e[1]());\n        }\n        return <div>{interior}</div>;\n    }\n\n    getIndex(){\n        let list = [];\n        for (let i = 0; i < this.orderOfElements.length; i++) {\n            let e = this.orderOfElements[i];\n            list.push(\n                <Translation>\n                    {(t) => <h3>{(i+1) + \".- \" + t(e[0])}</h3>}\n                </Translation>\n                );\n        }\n\n        return <div class=\"index\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t(\"routeHelpIndex\")}</h2>}\n            </Translation>\n            {list}\n        </div>;\n    }\n\n    getIntroduction(){\n        return <div class=\"helpElement\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t('routeHelpIntro')}</h2>}\n            </Translation>\n            <Translation>\n                {(t) => <p>{t('routeHelpIntro_1')}</p>}\n            </Translation>\n            <img alt=\"Viade main view\" src={viadeMainView} width=\"65%\"/>\n            <Translation>\n                {(t) => <p>{t('routeHelpIntro_2')}</p>}\n            </Translation>\n            <img alt=\"Viade sample routes\" src={viadeSampleRoutes} width=\"65%\"/>\n        </div>;\n    }\n\n    getCreateAPod(){\n        return <div class=\"helpElement\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t('routeHelpCreatePOD')}</h2>}\n            </Translation>\n            <Translation>\n                {(t) => <p>{t('routeHelpCreatePOD_1')}</p>}\n            </Translation>\n        </div>;\n    }\n\n    getLogin(){\n        return <div class=\"helpElement\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t('routeHelpLogin')}</h2>}\n            </Translation>\n            <Translation>\n                {(t) => <p>{t('routeHelpLogin_1')}</p>}\n            </Translation>\n        </div>;\n    }\n\n    getCreateARoute(){\n        return <div class=\"helpElement\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t('routeHelpCreateRoutes')}</h2>}\n            </Translation>\n            <Translation>\n                {(t) => <p>{t('routeHelpCreateRoutes_1')}</p>}\n            </Translation>\n            <img alt=\"Create your route\" src={viadeCreateRoute} width=\"65%\"/>\n        </div>;\n    }\n\n    getViewARoute(){\n        return <div class=\"helpElement\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t('routeHelpViewRoutes')}</h2>}\n            </Translation>\n            <Translation>\n                {(t) => <p>{t('routeHelpViewRoutes_1')}</p>}\n            </Translation>\n            <img alt=\"Details of the route\" src={viadeDetailsRoute} width=\"65%\"/>\n        </div>;\n    }\n\n    getShareWithFiends(){\n        return <div class=\"helpElement\">\n            <Translation role=\"title\">\n                {(t) => <h2>{t('routeHelpShareRoutes')}</h2>}\n            </Translation>\n            <Translation>\n                {(t) => <p>{t(\"routeHelpShareRoutes_1\")}</p>}\n            </Translation>\n            <img alt=\"Share route\" src={viadeShareRoute} width=\"65%\"/>\n        </div>;\n    }\n}","import './../css/App.css';\nimport React, { Component } from 'react';\nimport viadeLogo from './../assets/logo/logo_full.jpeg';\nimport { Translation } from 'react-i18next';\nimport UserDetails from \"../model/Util\";\n\nclass Home extends Component {\n\n    render() {\n        return (\n            <div className=\"App-header\" onLoad={() => this.printName()}>\n                <Translation>\n                    {\n                        (t) => {\n                            if (this.username) {\n                                return <h1 id=\"name\">{t('homeWelcome') + \" \" + this.username + \",\"}</h1>;\n                            }\n                            else {\n                                return <h1 id=\"name\">{t('homeWelcome')}</h1>;\n                            }\n                        }\n                    }\n                </Translation>\n                <Translation>\n                    {\n                        (t) => <h2>{t('homeWelcome2')}</h2>\n                    }\n                </Translation>\n                <img\n                    src={viadeLogo}\n                    width=\"255\"\n                    height=\"300\"\n                    className=\"d-inline-block align-top\"\n                    alt=\"Viade logo\"\n                />\n                <h3>V 1.1</h3>\n            </div>\n        );\n    }\n\n    async printName() {\n        var name = document.getElementById(\"name\");\n        if (!this.username) { this.username = await UserDetails.getName(); }\n        name.appendChild(document.createTextNode(this.username + \",\"));\n    }\n\n}\n\nexport default Home;","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport { useTranslation } from 'react-i18next';\n\n\nfunction ProfileCard(props) {\n    const { t } = useTranslation();\n    return (\n        <Card className=\"text-center\" border=\"dark\" text=\"dark\" style={{ width: \"20vw\", height: \"auto\", margin: \"1%\" }}>\n            <Card.Header style={{ alignItems: \"center\", padding: \"0\" }}>\n                <img src={props.profileImage}\n                width=\"200\"\n                height=\"200\"\n                className=\"d-inline-block align-top\"\n                alt=\"Profile img\"/>\n            </Card.Header>\n            <Card.Body>\n                <Card.Title >{props.profileName}</Card.Title>\n                <Card.Subtitle>{props.profileAddress}</Card.Subtitle>\n                <Card.Text>{props.profileEmail}</Card.Text>\n                <style type=\"text/css\">\n                    {`\n                    .btn-solid {\n                    background-color: #7C4DFF;\n                    color: white;\n                    }\n                    `}\n                </style>\n                <Button variant=\"solid\" href={props.profileLink}>{t('friendCardProfile')}</Button>\n            </Card.Body>\n        </Card>\n    );\n}\n\nexport default ProfileCard;","import './../css/App.css';\nimport React, { Component } from 'react';\nimport viadeLogo from './../assets/logo/logo_old.jpeg';\nimport { Translation } from 'react-i18next';\nimport UserDetails from \"../model/Util\";\nimport $ from \"jquery\";\nimport ProfileCard from '../components/friendCard/ProfileCard';\n\nclass Profile extends Component {\n\n    constructor(props) {\n        super();\n        this.routeManager = props.routeManager;\n    }\n\n    render() {\n        return (\n            <div className=\"App-FlexCenterColumn\" onLoad={() => this.loadInfo()}>\n                <Translation>\n                    {\n                        (t) => <h1 style={{ padding: \"1%\" }}>{t('profileTitle')}</h1>\n                    }\n                </Translation>\n                <ProfileCard \n                    profileLink=\"No info available\"\n                    profileImage=\"Not loaded\"\n                />\n                <img\n                    src={viadeLogo}\n                    width=\"150\"\n                    height=\"150\"\n                    className=\"align-top\"\n                    alt=\"Viade logo\"\n                />\n            </div>\n        );\n    }\n\n    async loadInfo() {\n\n        this.loadName();\n        this.loadAddress();\n        this.loadEmail();\n        this.loadSolidProfile();\n        this.loadImage();\n    }\n\n    async loadName() {\n        var name = await UserDetails.getName();\n        if (name !== null){\n            $(\".card-title.h5\").text(name);\n        } \n    }\n\n    async loadAddress() {\n        var address = $(\".card-subtitle.h6\");\n        var locality = await UserDetails.getLocality();\n        var region = await UserDetails.getRegion();\n\n        if (locality !== undefined){\n            address.text(locality);\n            if (region !== undefined){\n                address.text(locality + \", \" + region);\n            }\n        } else if (region !== undefined){\n            address.text(region);\n        }\n    }\n\n    async loadEmail() {\n        var email = await UserDetails.getEmail();\n\n        if (email !== undefined){\n            $(\".card-text\").text(email);\n        }\n    }\n\n    async loadSolidProfile() {\n        var link = await UserDetails.getSolidProfile();\n        if (link !== null){\n            $(\".btn.btn-solid\").attr(\"href\",link);\n        } \n    }\n\n    async loadImage(){\n        var img = await UserDetails.getImage();\n        if (img !== null){\n            $(\".d-inline-block.align-top\").attr(\"src\",img);\n        } \n    }\n\n}\n\nexport default Profile;","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport { useTranslation } from 'react-i18next';\n\n\nfunction FriendCard(props) {\n    const { t } = useTranslation();\n    return (\n        <Card text=\"dark\" border=\"primary\" style={{ width: \"20vw\", height: \"auto\", margin: \"1%\" }}>\n            <Card.Header style={{ alignItems: \"center\", padding: \"0\" }}>\n                <img src={props.friendImage}\n                width=\"170\"\n                height=\"170\"\n                className=\"d-inline-block align-top\"\n                alt=\"Friend profile\"/>\n            </Card.Header>\n            <Card.Body>\n                <Card.Title style={{ fontSize: \"24px\" }}>{props.friendName}</Card.Title>\n                <style type=\"text/css\">\n                    {`\n                    .btn-solid {\n                    background-color: #7C4DFF;\n                    color: white;\n                    }\n                    `}\n                </style>\n                <Button variant=\"solid\" href={props.friendLink}>{t('friendCardProfile')}</Button>\n            </Card.Body>\n        </Card>\n    );\n}\n\nexport default FriendCard;","import { v4 as uuid } from \"uuid\";\nimport PodStorageHandler from \"./../components/podService/podStoreHandler\";\n\nconst auth = require('solid-auth-client');\n\n\nclass MyGroup {\n\n\t/**\n\t * Constructor for new Group objects.\n\t * \n\t * @param {String} name The name of the group.\n \t * @param {Array<usersURL>} users The list of users of this group.\n\t */\n\tconstructor(name, users = []) {\n\t\tthis.id = uuid().toString();\n\t\tthis.name = name;\n        this.users = users;\n\t}\n\n\tgetId() {\n\t\treturn this.id;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tgetUsers() {\n\t\treturn this.users;\n    }\n    \n    getFileName() {\n\t\treturn this.id + \".json\";\n\t}\n\n\tasync uploadToPod(callback) {\n\t\tlet session = await auth.currentSession();\n\t\tlet storageHandler = new PodStorageHandler(session);\n\t\tawait storageHandler.storeGroup(this.getFileName(), this.toJsonLd(), callback);\n    }\n    \n\tgetComparableString() {\n\t\tlet parsedRoute = JSON.parse(this.toJsonLd());\n\t\tparsedRoute[\"@context\"] = \"\";\n\t\tparsedRoute[\"id\"] = \"\";\n\t\treturn JSON.stringify(parsedRoute);\n\t}\n\n\tmodifyFromJsonLd(parsedRoute) {\n\t\tif (parsedRoute[\"id\"] === undefined) {\n\t\t\tthis.id = uuid().toString();\n\t\t} else {\n\t\t\tthis.id = parsedRoute[\"id\"];\n\t\t}\n\n\t\tthis.name = parsedRoute[\"name\"];\n\n\t\tthis.users = parsedRoute[\"users\"];\n\t}\n\n\ttoJsonLd() {\n\t\treturn JSON.stringify(\n\t\t\t{\n\t\t\t\t\"@context\": {\n                    \"@version\": 1.1,\n                    \"name\": {\n                        \"@id\": \"schema:name\",\n                        \"@type\": \"xs:string\"\n                    },\n\t\t\t\t\t\"users\": {\n                        \"@container\": \"@list\",\n                        \"@id\": \"schema:Person\"\n                    },\n\t\t\t\t\t\"schema\": \"http://schema.org/\",\n                    \"xsd\": \"http://www.w3.org/2001/XMLSchema#\"\n\t\t\t\t},\n\t\t\t\t\"id\": this.id,\n\t\t\t\t\"name\": this.name,\n\t\t\t\t\"users\": this.users\n\t\t\t}\n\t\t);\n\t}\n\n}\n\nexport default MyGroup;","import './../css/App.css';\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { toast } from \"react-toastify\";\nimport FriendCard from '../components/friendCard/FriendCard';\nimport { Translation } from 'react-i18next';\nimport i18n from '../i18n';\nimport PodStorageHandler from \"../components/podService/podStoreHandler\";\nimport MyGroup from \"../model/MyGroup\";\n\nimport $ from \"jquery\";\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst auth = require('solid-auth-client');\n\nconst groupsStyle = {\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    padding: \"2%\"\n};\n\nclass Groups extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.groupManager = props.groupManager;\n        this.state = {\n            groups: [],\n            spinnerHidden: false\n        };\n        this.syncGroupsWithPod().then(() => {\n            this.state.spinnerHidden = true;\n        });\n        this.processedGroups = 0;\n        this.retrievedGroups = 0;\n    }\n\n    async syncGroupsWithPod() {\n        this.groupManager.resetGroups();\n        let session = await auth.currentSession();\n        if (session !== null && session !== undefined) {\n            let storageHandler = new PodStorageHandler(session);\n            storageHandler.getGroups((groupJson, error) => {\n                if (groupJson === null) {\n                    toast.error(i18n.t('alertAccessPOD'));\n                } else {\n                    if (groupJson.length !== 0) {\n                        try {\n                            let tempGroup = new MyGroup(\"\", []);\n                            tempGroup.modifyFromJsonLd(JSON.parse(groupJson));\n                            this.groupManager.addGroup(tempGroup);\n                            let tempList = this.state.groups;\n                            tempList.push(tempGroup);\n                            this.processedGroups += 1;\n                            if (this.processedGroups === this.retrievedGroups) {\n                                this.setState({ groups: tempList });\n                                $(\"#messageArea\").empty();\n                            }\n                        } catch (error) {\n                            // Ignored\n                        }\n                    }\n                }\n            }).then(\n                (result) => {\n                    if (result === 0) {\n                        this.setState({\n                            message:\n                                <div>\n                                    <h3>{i18n.t(\"messageNoGroups\")}</h3>\n                                    <p>{i18n.t(\"messageNoGroupsCreateOne\")}</p>\n                                </div>\n                        });\n                    } else {\n                        this.retrievedGroups = result;\n                    }\n                }\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"App-FlexCenterColumn\">\n                <Translation>\n                    {\n                        (t) => <h1 style={{ padding: \"1%\" }}>{t('groupsTitle')}</h1>\n                    }\n                </Translation>\n                <Translation>\n                    {\n                        (t) => <Button id=\"btnCreateGroup\" variant=\"primary\" size=\"lg\" href=\"#createGroup\"\n                            style={{ margin: \"2vh\" }}>{t('groupsCreate')}</Button>\n                    }\n                </Translation>\n                <div style={groupsStyle}>\n                    {\n                        this.state.groups.map((group) => {\n                            return (\n                                <div>\n                                    <h2>{group.name}</h2>\n                                    <div>\n                                        {\n                                            group.users.map((user) => {\n                                                return (\n                                                    <div style={groupsStyle}>\n                                                        <FriendCard\n                                                            friendImage={user.image}\n                                                            friendName={user.name}\n                                                            friendLink={user.webId}\n                                                        />\n                                                    </div>\n                                                );\n                                            })\n                                        }\n                                    </div>\n                                </div>\n                            );\n                        })\n                    }\n\n                </div>\n                <div id=\"messageArea\">\n                    {this.state.message}\n                </div>\n            </div >\n        );\n\n    }\n\n}\n\nexport default Groups;","import React from \"react\";\nimport * as auth from 'solid-auth-client';\nimport data from '@solid/query-ldflex';\nimport { Card, CardDeck } from 'react-bootstrap';\nimport { Button, Form} from 'react-bootstrap';\nimport { Translation } from 'react-i18next';\nimport i18n from '../i18n';\nimport MyGroup from \"../model/MyGroup\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass CreateGroup extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            friends: [],\n        };\n        this.groupMembers = [];\n        this.groupName = \"\";\n        this.readFriends();\n        this.webId = null;\n        this.newGroup = new MyGroup(\"\", []);\n        this.nameRef = React.createRef();\n    }\n\n    async readFriends() {\n        let session = await auth.currentSession(); \n        this.webId = session.webId;\n        let friends = [];\n        for await (const friend of data.user.friends) {\n            const f = {};\n            const n = await data[friend].vcard$fn;\n            const inbox = await data[friend].inbox;\n            const imageLd = await data[friend].vcard_hasPhoto;\n\n            if (imageLd && imageLd.value) {\n                f.image = imageLd.value;\n            } else {\n                f.image = \"\";\n            }\n\n            f.webId = `${friend}`;\n            f.name = `${n}`;\n            f.inbox = `${inbox}`;\n            if (n === undefined) {\n                f.name = `${friend}`;\n            }\n            friends = [...friends, f];\n        }\n        this.setState({ friends });\n    }\n\n    async createGroup(){\n\t\tdocument.getElementById(\"btnCreate\").disabled = true;\n\t\ttoast.dismiss();\n\t\tlet valid = true;\n\n\t\tif (this.groupName === \"\") {\n            valid = false;\n            toast.error(i18n.t('alertName'));\n\t\t}\n\t\tif (this.groupMembers.length < 1) {\n\t\t\tvalid = false;\n\t\t\ttoast.error(i18n.t('alertMembers'));\n        }\n        if (!valid) {\n\t\t\tdocument.getElementById(\"btnCreate\").disabled = false;\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet group = undefined;\n        group = new MyGroup(this.groupName, this.groupMembers);\n\n\t\treturn group;\n    }\n    \n    async annotateFriend(friend){\n        var included = this.groupMembers.includes(friend);\n        if (included){\n            toast.error(friend.name + i18n.t('alertAlreadyIncluded'));\n        } else {\n            this.groupMembers.push(friend);\n            toast.success(friend.name + i18n.t('alertAddedSuccessfully'));\n        }\n    }\n\n    async uploadToPod(groupName) {\n        this.groupName=groupName;\n\t\tlet group = await this.createGroup();\n\t\tif (group === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tawait group.uploadToPod((filePodUrl) => {\n\t\t\tif (filePodUrl === null) {\n\t\t\t\ttoast.error(i18n.t('alertAccessPOD'));\n\t\t\t} else {\n\t\t\t\twindow.location.href = \"#groups\";\n\t\t\t}\n\t\t});\n    }\n    \n    generateCardDecks(list, cardDeckSize = 4, componentMappingFunction = (n) => { }) {\n        let components = [];\n        let counter = 0;\n        while (counter <= list.length) {\n            components.push(\n                <CardDeck style={{ padding: \"1% 0% 1% 2%\", width: \"100%\" }}>\n                    {list.slice(counter, counter + cardDeckSize).map((listItem) => {\n                        return componentMappingFunction(listItem);\n                    })}\n                </CardDeck>\n            );\n            counter += cardDeckSize;\n        }\n        return components;\n    }\n\n    render() {\n\n        let friendsCardDeck = this.generateCardDecks(\n            this.state.friends, \n            4,\n            (friend) => {\n                return (\n                    <Card style={{ width: '18rem', margin: \"10px\", color: \"black\" }}>\n                        <Card.Img variant=\"top\" src={friend.image} />\n                        <Card.Body>\n                            <Card.Title>{friend.name}</Card.Title>\n                            <Translation> \n                                {\n                                (t) => <Button variant=\"success\"\n                                onClick={() => {this.annotateFriend(friend);}}>\n                                    {t('groupsAdd')}</Button>\n                                }\n                            </Translation>\n                        </Card.Body>\n                    </Card>\n                    );\n                }\n            );\n\n        return (\n            <div className=\"App-header\">\n                <ToastContainer\n\t\t\t\t\tid=\"toastContainer\"\n\t\t\t\t\tposition={toast.POSITION.TOP_CENTER}\n\t\t\t\t\tautoClose={5000}\n\t\t\t\t/>\n                <h1>Select the members</h1>\n                <div>\n                {friendsCardDeck}\n                </div>\n                    <Form style={{ margin: \"1%\" }}>\n                        <Form.Group>\n                            <Form.Label>Group name</Form.Label>\n                            <Form.Control type=\"groupName\" placeholder=\"Group name\" ref={this.nameRef}/>\n                            <Translation> \n                                {\n                                    (t) => <Button id=\"btnCreate\" variant=\"primary\"\n                                    onClick={() => {this.uploadToPod(this.nameRef.current.value);}}>{t('groupsCreateBtn')}</Button>\n                                }\n                            </Translation>\n                        </Form.Group>\n                    </Form>\n            </div>\n        );\n    }\n\n}\n\nexport default CreateGroup;","import React from \"react\";\nimport MyMap from \"../components/myMap/MyMap\";\nimport MyElevationChart from '../components/myElevationChart/MyElevationChart';\nimport PodStorageHandler from \"./../components/podService/podStoreHandler\";\nimport MyRoute from \"./../model/MyRoute\";\nimport Table from 'react-bootstrap/Table';\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport Image from \"react-bootstrap/Image\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { Translation } from 'react-i18next';\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport logo1 from \"../assets/logo/logo.jpeg\";\nimport logo2 from \"../assets/logo/logo_alt.jpeg\";\n\nimport \"./../css/infoView.css\";\nimport i18n from \"../i18n\";\n\nconst auth = require('solid-auth-client');\n\nclass InfoView extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.id = props.match.params.id;\n        this.routeManager = props.routeManager;\n        this.state = {\n            route: this.routeManager.getAnyRouteById(this.id)\n        };\n        this.fetchRouteIfNecessary();\n    }\n\n    render() {\n        if (this.state.route !== undefined) {\n            return (\n                <div>\n                    <ToastContainer\n                        id=\"toastContainer\"\n                        position={toast.POSITION.TOP_CENTER}\n                        autoClose={5000}\n                    />\n                    <Translation>\n                        {\n                            (t) => <h1 style={{ padding: \"1%\" }}>{t('infoViewTitle')}</h1>\n                        }\n                    </Translation >\n                    <div id=\"routeInfoContainer\">\n                        <div id=\"routeInfoContent\">\n                            <div id=\"ircInfoTable\">\n                                <div>\n                                    <Table striped bordered style={{ margin: \"0%\" }}>\n                                        <thead>\n                                            <tr>\n                                                <Translation>\n                                                    {\n                                                        (t) => <th>{t('infoViewTh1')}</th>\n                                                    }\n                                                </Translation>\n                                                <Translation>\n                                                    {\n                                                        (t) => <th>{t('infoViewTh2')}</th>\n                                                    }\n                                                </Translation>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <Translation>\n                                                    {\n                                                        (t) => <td>{t('infoViewTd1')}</td>\n                                                    }\n                                                </Translation>\n                                                <td>{this.state.route.getName()}</td>\n                                            </tr>\n                                            <tr>\n                                                <Translation>\n                                                    {\n                                                        (t) => <td>{t('infoViewTd2')}</td>\n                                                    }\n                                                </Translation>\n                                                <td>{this.state.route.getAuthor()}</td>\n                                            </tr>\n                                            <tr>\n                                                <Translation>\n                                                    {\n                                                        (t) => <td>{t('infoViewTd3')}</td>\n                                                    }\n                                                </Translation>\n                                                <td>{this.state.route.getDescription()}</td>\n                                            </tr>\n                                            <tr>\n                                                <Translation>\n                                                    {\n                                                        (t) => <td>{t('infoViewTd4')}</td>\n                                                    }\n                                                </Translation>\n                                                <td>{this.state.route.getRouteLength()}</td>\n                                            </tr>\n                                        </tbody>\n                                    </Table>\n                                    <Translation>\n                                        {\n                                            (t) => <Button variant=\"primary\" onClick={() => this.downloadToClient()} style={{ margin: \"2%\" }}>{t('infoViewExportJSON')}</Button>\n                                        }\n                                    </Translation>\n                                </div>\n                                <div style={{ marginTop: \"2%\" }}>\n                                    <Form>\n                                        <Form.Group>\n                                            <Translation>\n                                                {\n                                                    (t) => <Form.Label>{t('infoViewComments')}</Form.Label>\n                                                }\n                                            </Translation>\n                                            <Translation>\n                                                {\n                                                    (t) => <Form.Control as=\"textarea\" rows=\"3\" placeholder={t('infoViewWriteComments')} />\n                                                }\n                                            </Translation>\n                                        </Form.Group>\n                                        <Translation>\n                                            {\n                                                (t) => <Button variant=\"primary\" onClick={() => { toast.info(i18n.t('infoViewCommentsNotYetImplemented')); }} type=\"submit\" > {t('infoViewSubmit')} </Button>\n                                            }\n                                        </Translation>\n                                    </Form>\n                                </div>\n                            </div>\n                            <div id=\"ircTabs\">\n                                <Tabs>\n                                    <Tab eventKey=\"routeMap\" title={i18n.t('infoViewMap')}>\n                                        <MyMap route={this.state.route} movable={true} zoom={12} style={{ width: \"45vw\", height: \"50vh\", margin: \"0\" }} />\n                                    </Tab>\n                                    <Tab eventKey=\"elevationChart\" title={i18n.t('infoViewElevation')}>\n                                        <MyElevationChart route={this.state.route} style={{ width: \"100%\" }} />\n                                    </Tab>\n                                    <Tab eventKey=\"imageCarousel\" title={i18n.t('infoViewImg')}>\n                                        {this.getCarousel()}\n                                    </Tab>\n                                </Tabs>\n                            </div>\n                        </div>\n                        <div id=\"routeCommentsList\">\n                        </div>\n                    </div>\n                </div >\n            );\n        } else {\n            return (\n                <div id=\"routeInfoContainer\">\n                    <Translation>\n                        {\n                            (t) => <h1 style={{ padding: \"1%\" }}>{t('infoViewTitle')}</h1>\n                        }\n                    </Translation>\n                </div >\n            );\n        }\n    }\n\n    downloadToClient() {\n        const fileData = this.state.route.toJsonLd();\n        const blob = new Blob([fileData], { type: \"text/plain\" });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.download = this.state.route.getName() + \"_\" + this.state.route.getId() + \".json\";\n        link.href = url;\n        link.click();\n    }\n\n    async fetchRouteIfNecessary() {\n        if (this.id !== undefined && this.routeManager.getRoutes().length === 0 && this.state.route === undefined) {\n            let session = await auth.currentSession();\n            if (session !== null && session !== undefined) {\n                let storageHandler = new PodStorageHandler(session);\n                storageHandler.getRoutes((jsonRoute, error) => {\n                    if (jsonRoute === null) {\n                        toast.error(i18n.t(\"alertUnableToRetrieveRoute\"));\n                    } else {\n                        if (jsonRoute.includes(this.id)) {\n                            let tempRoute = new MyRoute(\"\", \"\", \"\", []);\n                            tempRoute.modifyFromJsonLd(jsonRoute);\n                            this.setState({ route: tempRoute });\n                        }\n                    }\n                });\n            }\n        }\n    }\n\n    getCarousel() {\n        let pics = [];\n        this.state.route.media.map((m) => { return m.podURL; }).forEach((url) => {\n            pics.push(\n                <Carousel.Item key={url}>\n                    <Image src={url} fluid />\n                </Carousel.Item>\n            );\n        });\n\n        // Placeholder\n        if (pics.length === 0) {\n            pics.push(\n                <Carousel.Item key={\"logo1\"}>\n                    <Image src={logo1} fluid />\n                </Carousel.Item>\n            );\n            pics.push(\n                <Carousel.Item key={\"logo2\"}>\n                    <Image src={logo2} fluid />\n                </Carousel.Item>\n            );\n        }\n\n        return <Carousel>\n            {pics}\n        </Carousel>;\n    }\n}\n\nexport default InfoView;","class GroupManager {\n\n    constructor() {\n        this.groups = [];\n    }\n\n    getGroups() {\n        return this.groups;\n    }\n\n    getGroupById(id) {\n        return this.groups.find((group) => group.getId() === id);\n    }\n\n    addGroup(group) {\n        this.groups.push(group);\n    }\n\n    resetGroups() {\n        this.groups = [];\n    }\n\n}\n\nconst groupManager = new GroupManager();\nexport default groupManager;","import PodStoreHandler from \"./podStoreHandler\";\nimport PodHandler from \"./podHandler\";\n\nconst SolidAclUtils = require('solid-acl-utils');\nconst auth = require('solid-auth-client');\n\nconst { AclApi } = SolidAclUtils;\n\n// const { AclApi, AclDoc, AclParser, AclRule, Permissions, Agents } = SolidAclUtils;\n// const { READ, WRITE, APPEND, CONTROL } = Permissions;\n\nexport default class PodPermissionHandler extends PodHandler {\n\n    /**\n     * @param {Session} currentSession - auth.currentSession()\n     */\n    constructor(currentSession) {\n        super(currentSession);\n        this.podStoreHandler = new PodStoreHandler(currentSession);\n    }\n\n    /**\n     * @param {String} routeFileName - Route id + .json extension\n     * @param {Array<String>|SolidAclUtils.Agents} webIds - Web ids of people to unshare with, either as \"https://example.solid.community\" or \"https://example.solid.community/profile/card#me\"\n     */\n    async unshareRouteAndResources(routeFileName, webIds) {\n        let url = this.repository + this.defaultFolder + this.routesDirectory + routeFileName;\n\n        let permissions = SolidAclUtils.Permissions.READ;\n\n        // Share resources\n        this.podStoreHandler.getFile(url).then(\n            (file) => { this._processRouteFileForUnshare(file, permissions, webIds); },\n            (error) => { }\n        );\n\n        // Share route\n        await this.unshareFile(url, permissions, webIds);\n    }\n\n    /**\n     * @param {String} routeFileName - Route id + .json extension\n     * @param {String|Array<String>|SolidAclUtils.Agents} webIds - Web ids of people to share with, either as \"https://example.solid.community\" or \"https://example.solid.community/profile/card#me\"\n     */\n    async shareRouteAndResources(routeFileName, webIds) {\n        let url = this.repository + this.defaultFolder + this.routesDirectory + routeFileName;\n\n        let permissions = SolidAclUtils.Permissions.READ;\n\n        // Share resources\n        this.podStoreHandler.getFile(url).then(\n            (file) => { this._processRouteFileForShare(file, permissions, webIds); },\n            (error) => { }\n        );\n\n        // Share route\n        await this.shareFile(url, permissions, webIds);\n    }\n\n    /**\n     * @param {String} url - URL of the file/folder to share inside the pod\n     * @param {SolidAclUtils.Permissions} permissions - Permission to give to the file\n     * @param {String|Array<String>|SolidAclUtils.Agents} agents - People to share with\n     */\n    async shareFile(url, permissions, agents) {\n        const fetch = auth.fetch.bind(auth);\n        const utils = new AclApi(fetch, { autoSave: true });\n        const acl = await utils.loadFromFileUrl(url);\n\n        try {\n            await acl.addRule(permissions, agents);\n        } catch (e) {\n            throw e;\n        }\n    }\n\n    /**\n     * @param {String} url - URL of the file/folder to unshare inside the pod\n     * @param {SolidAclUtils.Permissions} permissions - Permission to remove of the file\n     * @param {String|Array<String>|SolidAclUtils.Agents} agents - People to unshare with\n     */\n    async unshareFile(url, permissions, agents) {\n        const fetch = auth.fetch.bind(auth);\n        const utils = new AclApi(fetch, { autoSave: true });\n        const acl = await utils.loadFromFileUrl(url);\n\n        try {\n            await acl.deleteRule(permissions, agents);\n        } catch (e) {\n            throw e;\n        }\n    }\n\n    _processRouteFileForShare(routeJson, permissions, agents) {\n        try {\n            let parsedRoute = JSON.parse(routeJson);\n            let mediaURIs = parsedRoute[\"media\"].map((j) => { return j[\"@id\"]; });\n            for (let i = 0; i < mediaURIs.length; i++) {\n                this.shareFile(mediaURIs[i], permissions, agents);\n            }\n        } catch (error) {\n            // Continue with the execution and ignore the error\n        }\n    }\n\n    _processRouteFileForUnshare(routeJson, permissions, agents) {\n        try {\n            let parsedRoute = JSON.parse(routeJson);\n            let mediaURIs = parsedRoute[\"media\"].map((j) => { return j[\"@id\"]; });\n            for (let i = 0; i < mediaURIs.length; i++) {\n                this.unshareFile(mediaURIs[i], permissions, agents);\n            }\n        } catch (error) {\n            // Continue with the execution and ignore the error\n        }\n    }\n}","import React from \"react\";\nimport * as auth from 'solid-auth-client';\nimport data from '@solid/query-ldflex';\nimport { Card, CardDeck } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nimport { namedNode } from '@rdfjs/data-model';\nimport PodPermissionHandler from \"../components/podService/podPermissionHandler\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport i18n from '../i18n';\nimport MyGroup from \"../model/MyGroup\";\nimport PodStorageHandler from \"../components/podService/podStoreHandler\";\nimport groupManager from \"./../model/GroupManager\";\nimport $ from \"jquery\";\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass ShareView extends React.Component {\n\n    constructor(props) {\n        super();\n        this.groupManager = groupManager;\n        this.state = {\n            friends: [],\n            groups: []\n        };\n        this.processedGroups = 0;\n        this.retrievedGroups = 0;\n        this.readFriends();\n        this.syncGroupsWithPod();\n        this.webId = null;\n        this.id = props.match.params.id;\n    }\n\n    render() {\n\n        let friendsCardDeck = this.generateCardDecks(\n            this.state.friends,\n            4,\n            (friend) => {\n                return (\n                    <Card style={{ width: '18rem', margin: \"10px\", color: \"black\" }}>\n                        <Card.Img variant=\"top\" src={friend.image} />\n                        <Card.Body>\n                            <Card.Title>{friend.name}</Card.Title>\n                            <Button variant=\"primary\"\n                                onClick={() => { this.send(friend.inbox); }}>{i18n.t(\"share\")}</Button>\n                        </Card.Body>\n                    </Card>\n                );\n            }\n        );\n\n        let groupsCardDeck = this.generateCardDecks(\n            this.state.groups,\n            4,\n            (group) => {\n                return (\n                    <Card style={{ width: '18rem', margin: \"10px\", color: \"black\" }}>\n                        <Card.Body>\n                            <Card.Title>{group.name}</Card.Title>\n                            {group.users.map((user) => <Card.Text>{user.name}</Card.Text>)}\n                            <Button variant=\"primary\"\n                                onClick={() => { this.sendToGroup(group.users); }}>{i18n.t(\"share\")}</Button>\n                        </Card.Body>\n                    </Card>\n                );\n            }\n        );\n\n        return (\n            <div>\n                <ToastContainer\n                    position={toast.POSITION.TOP_CENTER}\n                    autoClose={5000}\n                />\n                <h2 style={{ padding: \"1%\" }}>{i18n.t(\"friendsTitle\")}</h2>\n                {friendsCardDeck}\n                <h2 style={{ padding: \"1%\" }}>{i18n.t(\"grupos\")}</h2>\n                {groupsCardDeck}\n            </div >\n        );\n    }\n\n    generateCardDecks(list, cardDeckSize = 4, componentMappingFunction = (n) => { }) {\n        let components = [];\n        let counter = 0;\n        while (counter <= list.length) {\n            components.push(\n                <CardDeck style={{ padding: \"1% 0% 1% 2%\", width: \"100%\" }}>\n                    {list.slice(counter, counter + cardDeckSize).map((listItem) => {\n                        return componentMappingFunction(listItem);\n                    })}\n                </CardDeck>\n            );\n            counter += cardDeckSize;\n        }\n        return components;\n    }\n\n    async readFriends() {\n        let session = await auth.currentSession();\n        this.webId = session.webId;\n        let friends = [];\n        for await (const friend of data.user.friends) {\n            const f = {};\n            const n = await data[friend].vcard$fn;\n            const inbox = await data[friend].inbox;\n            const imageLd = await data[friend].vcard_hasPhoto;\n\n            if (imageLd && imageLd.value) {\n                f.image = imageLd.value;\n            } else {\n                f.image = \"\";\n            }\n\n            f.webId = `${friend}`;\n            f.name = `${n}`;\n            f.inbox = `${inbox}`;\n            if (n === undefined) {\n                f.name = `${friend}`;\n            }\n            friends = [...friends, f];\n        }\n        this.setState({ friends });\n    }\n\n\n    async send(destination) {\n        try {\n            var message = {};\n            message.date = new Date(Date.now());\n            message.id = message.date.getTime();\n            message.sender = this.webId;\n            message.recipient = destination;\n\n            let folder = \"viade/routes/\";\n            message.content = this.getWebIdWithoutProfile() + folder + this.id + \".json\";\n\n            message.title = \"Check out this route shared to you by \" + this.getSessionName();\n            message.url = message.recipient + message.id + \".json\";\n\n            await this.buildMessage(message);\n            toast.success(i18n.t('alertSuccessInPermissions'));\n        } catch (e) {\n            toast.error(i18n.t('alertErrorInPermissions'));\n        }\n        this.changePermissions(this.id + \".json\", [destination.split(\"inbox\")[0] + \"profile/card#me\"]);\n    }\n\n    async changePermissions(routeName, webIds) {\n        let session = await auth.currentSession();\n        let perm = new PodPermissionHandler(session);\n        await perm.shareRouteAndResources(routeName, webIds);\n    }\n\n    async buildMessage(message) {\n        var mess = message.url;\n        //message\n        await data[mess].schema$text.add(message.content);\n        await data[mess].rdfs$label.add(\"routeShared: \" + message.title);\n        await data[mess].schema$dateSent.add(message.date.toISOString());\n        await data[mess].rdf$type.add(namedNode('https://schema.org/Message'));\n        await data[mess].schema$sender.add(namedNode(this.webId));\n    }\n\n    getSessionName() {\n        var session = this.webId;\n        var tmp = session.split(\".\")[0];\n        return tmp.split(\"//\")[1];\n    }\n\n    getWebIdWithoutProfile() {\n        let wId = this.webId;\n        let tmp = wId.split(\"profile\")[0];\n        return tmp;\n    }\n\n    async syncGroupsWithPod() {\n        this.groupManager.resetGroups();\n        let session = await auth.currentSession();\n        if (session !== null && session !== undefined) {\n            let storageHandler = new PodStorageHandler(session);\n            storageHandler.getGroups((groupJson, error) => {\n                if (groupJson === null) {\n                    toast.error(i18n.t('alertAccessPOD'));\n                } else {\n                    if (groupJson.length !== 0) {\n                        try {\n                            let tempGroup = new MyGroup(\"\", []);\n                            tempGroup.modifyFromJsonLd(JSON.parse(groupJson));\n                            this.groupManager.addGroup(tempGroup);\n                            let tempList = this.state.groups;\n                            tempList.push(tempGroup);\n                            this.processedGroups += 1;\n                            if (this.processedGroups === this.retrievedGroups) {\n                                this.setState({ groups: tempList });\n                                $(\"#messageArea\").empty();\n                            }\n                        } catch (error) {\n                            // Ignored\n                        }\n                    }\n                }\n            }).then(\n                (result) => {\n                    if (result === 0) {\n                        this.setState({\n                            message:\n                                <div>\n                                    <h3>{i18n.t(\"messageNoGroups\")}</h3>\n                                    <p>{i18n.t(\"messageNoGroupsCreateOne\")}</p>\n                                </div>\n                        });\n                    } else {\n                        this.retrievedGroups = result;\n                    }\n                }\n            );\n        }\n    }\n\n    sendToGroup(users) {\n        users.forEach((user) => {\n            this.send(user.inbox);\n        });\n    }\n\n}\n\nexport default ShareView;","import React from \"react\";\nimport { CardDeck, Spinner } from \"react-bootstrap\";\nimport RouteCard from \"../components/routeList/RouteCard\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport PodStorageHandler from \"../components/podService/podStoreHandler\";\nimport Button from \"react-bootstrap/Button\";\nimport i18n from '../i18n';\nimport RouteManager from \"../model/RouteManager\";\nimport MyRoute from \"../model/MyRoute\";\nimport $ from \"jquery\";\n\nconst auth = require('solid-auth-client');\n\nexport default class RouteSharedList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.routeManager = RouteManager;\n        this.cardDeckSize = 4;\n        this.state = {\n            sharedRoutes: [],\n            spinnerHidden: false,\n        };\n        this.readInbox();\n        if (props.sync === undefined || props.sync === true) { // avoid sync with pod, used for RouteList.test.js\n            this.syncRoutesWithPod().then(() => {\n                this.state.spinnerHidden = true;\n            });\n            this.retrievedRoutes = false;\n        }\n    }\n\n    async readInbox() {\n        new PodStorageHandler(await auth.currentSession()).checkInbox();\n    }\n\n    render() {\n        let routesForCardDecks = [];\n        let counter = 0;\n        while (counter <= this.state.sharedRoutes.length) {\n            routesForCardDecks.push(\n                <CardDeck style={{ padding: \"1% 0% 1% 2%\", width: \"100%\" }}>\n                    {this.state.sharedRoutes.slice(counter, counter + this.cardDeckSize).map(\n                        (r) => { return <RouteCard route={r} showShareButton={false} />; }\n                    )}\n                </CardDeck>\n            );\n            counter += this.cardDeckSize;\n        }\n\n        return (\n            <div>\n                <ToastContainer\n                    position={toast.POSITION.TOP_CENTER}\n                    autoClose={5000}\n                />\n                <div id=\"title\" style={{ display: \"inline\" }}>\n                    <h1 style={{ margin: \"2%\", display: \"inline\" }}>{i18n.t('sharedRouteListTitle')}</h1>\n                    <Button style={{ display: \"inline\", float: \"right\", margin: \"2%\" }} variant=\"danger\" onClick={() => {\n\n                        if (window.confirm(\"Are you sure?\")) {\n                            this.cleanSharedFolder();\n                        }\n                    }}>Clean files shared to you</Button>\n                </div>\n\n                <h2 style={{ padding: \"1%\" }} hidden={this.state.spinnerHidden}>{i18n.t('routeListLoadingMessage')}</h2>\n\n                <Spinner id={\"spinner\"} hidden={this.state.spinnerHidden} animation=\"border\" />\n                {routesForCardDecks}\n                <div id=\"messageArea\">\n                    {this.state.message}\n                </div>\n            </div>\n        );\n    }\n\n    async cleanSharedFolder() {\n        let session = await auth.currentSession();\n        let storageHandler = new PodStorageHandler(session);\n        storageHandler._eliminateSharedFolder();\n        toast.success(i18n.t(\"alertRoutesRemoved\"));\n        this.syncRoutesWithPod();\n    }\n\n    async syncRoutesWithPod() {\n        this.routeManager.resetRoutes();\n        let session = await auth.currentSession();\n        if (session !== null && session !== undefined) {\n            let storageHandler = new PodStorageHandler(session);\n            storageHandler.getRoutesSharedToMe((routeJson, error, lastProcessedFile) => {\n                if (routeJson === null) {\n                    toast.error(i18n.t(\"alertUnavailableRoutes\"));\n                } else {\n                    if (routeJson.length !== 0) {\n                        let tempRoute = new MyRoute(\"\", \"\", \"\", []);\n                        tempRoute.modifyFromJsonLd(routeJson);\n                        this.routeManager.addSharedRoute(tempRoute);\n                        let tempList = this.state.sharedRoutes;\n                        tempList.push(tempRoute);\n                        if (lastProcessedFile && !this.retrievedRoutes) {\n                            this.setState({\n                                sharedRoutes: tempList,\n                                spinnerHidden: true\n                            });\n                            $(\"#messageArea\").empty();\n                        }\n                    }\n                }\n            }).then(\n                (found) => {\n                    if (!found) {\n                        this.setState({\n                            message:\n                                <div>\n                                    <h3>{i18n.t('sharedRouteListOoopsTitle')}</h3>\n                                    <p>{i18n.t('sharedRouteListOoopsParagraph')}</p>\n                                </div>\n                        });\n                    } else {\n                        this.retrievedRoutes = true;\n                    }\n                }\n            );\n        }\n    }\n\n}","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { AuthButton } from '@solid/react';\nimport { HashRouter, Route, Redirect } from 'react-router-dom';\nimport SignUp from '../../pages/SignUp';\nimport RouteCreation from '../../pages/RouteCreation';\nimport RouteList from '../../pages/RouteList';\nimport RouteHelp from \"../../pages/RouteHelp\";\nimport Home from '../../pages/Home';\nimport Profile from '../../pages/Profile';\nimport Groups from '../../pages/Groups';\nimport CreateGroup from '../../pages/createGroup';\nimport InfoView from \"./../../pages/InfoView\";\nimport { useTranslation } from 'react-i18next';\n\nimport gitHubLogo from './../../assets/githubLogo/github.png';\nimport viadeLogo from './../../assets/logo/logo_alt.jpeg';\nimport viadeText from './../../assets/logo/logo_letters.jpeg';\nimport RouteManager from \"./../../model/RouteManager\";\nimport GroupManager from \"./../../model/GroupManager\";\nimport ShareView from '../../pages/ShareView';\nimport RouteSharedList from \"../../pages/RouteSharedList\";\n\nconst routeManager = RouteManager;\nconst groupManager = GroupManager;\n\nfunction MyNavBar(props) {\n  const { t, i18n } = useTranslation();\n\n  const changeLanguage = (lng) => {\n    i18n.changeLanguage(lng);\n  };\n  return (\n    <HashRouter basename='/'>\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n        <Navbar.Brand href=\"#home\">\n          <img\n            src={viadeLogo}\n            width=\"40\"\n            height=\"40\"\n            className=\"d-inline-block\"\n            alt=\"Viade logo\"\n          />\n          <img\n            src={viadeText}\n            width=\"140\"\n            height=\"40\"\n            className=\"d-inline-block\"\n            alt=\"Viade text\"\n          />\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <NavDropdown title={t('navBarProfile')} id=\"collapsible-nav-dropdown\">\n              <NavDropdown.Item id=\"profileNavButton\" href=\"#profile\">{t('navBarMyProfile')}</NavDropdown.Item>\n              <NavDropdown.Item href=\"#groups\">{t('navBarGroups')}</NavDropdown.Item>\n            </NavDropdown>\n            <NavDropdown title={t('navBarRoutes')} id=\"collapsible-nav-dropdown\">\n              <NavDropdown.Item id=\"routeListNavButton\" href=\"#routes/list\">{t('navBarMyRoutes')}</NavDropdown.Item>\n              <NavDropdown.Item id=\"routeAddNavButton\" href=\"#routes/add\">{t('navBarCreateRoute')}</NavDropdown.Item>\n              <NavDropdown.Divider />\n              <NavDropdown.Item id=\"routeSharedNavButton\" href=\"#routes/shared\">{t('navBarSharedRoutes')}</NavDropdown.Item>\n              <NavDropdown.Divider />\n              <NavDropdown.Item href=\"#routes/example\">{t('navBarRouteHelp')}</NavDropdown.Item>\n            </NavDropdown>\n          </Nav>\n          <DropdownButton style={{ margin: \"16px\" }} id=\"dropdown-item-button\" variant=\"secondary\" title={t('navBarLanguage')}>\n            <Dropdown.Item as=\"button\" onClick={() => changeLanguage('en')}>{t('navBarLanguageEn')}</Dropdown.Item>\n            <Dropdown.Item as=\"button\" onClick={() => changeLanguage('es')}>{t('navBarLanguageEs')}</Dropdown.Item>\n          </DropdownButton>\n          <Nav>\n            <AuthButton className=\"btn btn-outline-light\" popup=\"https://solid.community/common/popup.html\" login={t('navBarSignIn')} logout={t('navBarSignOut')} />\n            <Nav.Link href=\"https://github.com/Arquisoft/viade_en3a\" target=\"_blank\">\n              <img\n                src={gitHubLogo}\n                width=\"30\"\n                height=\"30\"\n                className=\"d-inline-block align-top\"\n                alt=\"GitHub link\"\n              />\n            </Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Route exact path=\"/register\" component={SignUp} />\n      <Route exact path=\"/routes/add\" render={() => <RouteCreation routeManager={routeManager} />} />\n      <Route exact path=\"/routes/list\" render={() => <RouteList routeManager={routeManager} />} />\n      <Route exact path=\"/routes/shared\" render={() => <RouteSharedList routeManager={routeManager} />} />\n      <Route exact path=\"/routes/example\" render={() => <RouteHelp/>} />\n      <Route exact path=\"/home\" component={Home} />\n      <Route exact path=\"/profile\" render={() => <Profile routeManager={routeManager} />} />\n      <Route exact path=\"/groups\" render={() => <Groups groupManager={groupManager} />} />\n      <Route exact path=\"/createGroup\" component={CreateGroup} />\n      <Route exact path=\"/routes/info/:id\" render={(props) => <InfoView routeManager={routeManager} {...props} />} />\n      <Route exact path=\"/routes/share/:id\" render={(props) => <ShareView {...props} />} />\n      <Redirect path=\"/\" exact to=\"/home\" />\n    </HashRouter>\n  );\n}\n\nexport default MyNavBar;","import React from 'react';\nimport Carousel from 'react-bootstrap/Carousel';\nimport { useTranslation } from 'react-i18next';\n\nimport image1 from './../../assets/carouselImages/car_img1.jpeg';\nimport image2 from './../../assets/carouselImages/car_img2.jpg';\n\nconst containerStyle = { height: \"93vh\" };\nconst imageStyle = { width: \"100%\", height: \"100%\" };\n\nfunction WelcomeCarousel(props) {\n    const { t } = useTranslation();\n    return (\n        <Carousel style={containerStyle}>\n            <Carousel.Item style={containerStyle}>\n                <img\n                    className=\"d-block w-100\"\n                    src={image1}\n                    alt=\"First slide\"\n                    style={imageStyle}\n                />\n                <Carousel.Caption>\n                    <h3>{t('carouselWelcome')}</h3>\n                    <p>{t('carouselText1')}</p>\n                </Carousel.Caption>\n            </Carousel.Item>\n            <Carousel.Item style={containerStyle}>\n                <img\n                    className=\"d-block w-100\"\n                    src={image2}\n                    alt=\"Second slide\"\n                    style={imageStyle}\n                />\n                <Carousel.Caption>\n                    <h3>{t('carouselText2')}</h3>\n                    <p>{t('carouselText3')}</p>\n                </Carousel.Caption>\n            </Carousel.Item>\n        </Carousel>\n    );\n}\n\nexport default WelcomeCarousel;","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { AuthButton } from '@solid/react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport SignUp from \"../../pages/SignUp\";\nimport WelcomeCarousel from '../carousel/WelcomeCarousel';\nimport { useTranslation } from 'react-i18next';\n\nimport gitHubLogo from './../../assets/githubLogo/github.png';\nimport viadeLogo from './../../assets/logo/logo_alt.jpeg';\nimport viadeText from './../../assets/logo/logo_letters.jpeg';\n\nfunction NavBarNotAuthenticated(props) {\n  const { t, i18n } = useTranslation();\n\n  const changeLanguage = (lng) => {\n    i18n.changeLanguage(lng);\n  };\n  return (\n    <HashRouter basename='/'>\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n        <Navbar.Brand href=\"#\">\n          <img\n            src={viadeLogo}\n            width=\"40\"\n            height=\"40\"\n            className=\"d-inline-block align-top\"\n            alt=\"Viade logo\"\n          />\n          <img\n            src={viadeText}\n            width=\"140\"\n            height=\"40\"\n            className=\"d-inline-block align-top\"\n            alt=\"Viade logo\"\n          />\n        </Navbar.Brand>\n\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"mr-auto\">\n          </Nav>  \n          <DropdownButton id=\"dropdown-item-button\" style={{margin: \"16px\"}} variant=\"secondary\" title={t('navBarLanguage')}>\n            <Dropdown.Item as=\"button\" onClick={() => changeLanguage('en')}>{t('navBarLanguageEn')}</Dropdown.Item>\n            <Dropdown.Item as=\"button\" onClick={() => changeLanguage('es')}>{t('navBarLanguageEs')}</Dropdown.Item>\n          </DropdownButton>\n          <Nav>\n            <Nav.Link className=\"mt-1 mr-2\" href=\"#/register\">{t('navBarSignUp')}</Nav.Link>\n            <AuthButton className=\"btn btn-outline-light\" popup=\"https://solid.community/common/popup.html\" login={t('navBarSignIn')} logout={t('navBarSignOut')} />\n            <Nav.Link href=\"https://github.com/Arquisoft/viade_en3a\" target=\"_blank\">\n              <img\n                src={gitHubLogo}\n                width=\"30\"\n                height=\"30\"\n                className=\"d-inline-block align-top\"\n                alt=\"GitHub link\"\n              />\n            </Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <div id=\"container\" style={{ backgroundColor: \"#282c34\" }}>\n        <Route exact path=\"/register\" component={SignUp} />\n        <Route exact path=\"/\" component={WelcomeCarousel} />\n      </div>\n    </HashRouter >\n  );\n}\n\nexport default NavBarNotAuthenticated;","import React from 'react';\nimport \"./css/App.css\";\nimport MyNavBar from './components/navBar/navBar';\nimport NavBarNotAuthenticated from './components/navBar/navBarNotAuthenticated';\nimport { LoggedIn, LoggedOut } from '@solid/react';\nimport { HashRouter } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\" ref={(el) => {\n      if (el) {\n        el.style.setProperty('background-color', 'white', 'important');\n      }\n    }}>\n      <HashRouter basename='/'>\n        < LoggedOut >\n          <NavBarNotAuthenticated />\n        </ LoggedOut>\n        <LoggedIn>\n          <MyNavBar />\n        </LoggedIn>\n      </HashRouter>\n    </div >\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './i18n';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/index.css';\n\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n    // If you want your app to work offline and load faster, you can change\n    // unregister() to register() below. Note this comes with some pitfalls.\n    // Learn more about service workers: https://bit.ly/CRA-PWA\n    // serviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo_alt.bdb0bd56.jpeg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/logo_letters.c6e6636f.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/iconNormal.7350e1f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/iconEdited.4bb0f0c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/main.06374f03.png\";","module.exports = __webpack_public_path__ + \"static/media/newRouteList.0a843bdf.png\";","module.exports = __webpack_public_path__ + \"static/media/Screenshot_1.5c6dfa65.png\";","module.exports = __webpack_public_path__ + \"static/media/routeDetails.2a1e5f72.png\";","module.exports = __webpack_public_path__ + \"static/media/Screenshot_4.36cf0ace.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_full.ddf87e7e.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/logo_old.7e2fd075.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/logo.7e2fd075.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/car_img1.774f104c.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/car_img2.67c42e97.jpg\";","module.exports = __webpack_public_path__ + \"static/media/iconSelected.808b19f1.svg\";"],"sourceRoot":""}